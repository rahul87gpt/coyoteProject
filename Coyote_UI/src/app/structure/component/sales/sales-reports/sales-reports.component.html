<div class="mainContent-innner">
  <div class="Stock-section">
    <div class="d-flex align-items-center">
      <h4 class="title flex-grow-1 mb-0">{{ salesByText }}</h4>
    </div>
    <div class="bg-box mt-15 vh-100">

      <ng-container *ngIf="(reporterObj.currentUrl == 'salesOutlet') else otherReports">
        <iframe [src]='safeURL' frameborder="0" allowfullscreen width="100%" height="100%"></iframe>
      </ng-container>

       <ng-template #otherReports>  
        <ngx-extended-pdf-viewer [customToolbar]="additionalButtons" [src]="pdfData" [height]="'90vh'"
        [useBrowserLocale]="true" [textLayer]="true" [showHandToolButton]="true" [zoom]="'page-width'">
      </ngx-extended-pdf-viewer>

      <ng-template #additionalButtons>
        <div id="toolbarViewer">
          <div id="toolbarViewerLeft">
            <pdf-toggle-sidebar></pdf-toggle-sidebar>
            <div class="toolbarButtonSpacer"></div>
            <pdf-find-button [showFindButton]="true" [textLayer]="true"></pdf-find-button>
            <pdf-paging-area></pdf-paging-area>
          </div>
          <div id="toolbarViewerRight">
            <pdf-open-file></pdf-open-file>
            <pdf-presentation-mode></pdf-presentation-mode>
            <pdf-print></pdf-print>
            <pdf-download></pdf-download>
            <button type="button" class="toolbarButton new-tab hiddenMediumView" title="Close" [routerLink]="['/']"
              routerLinkActive="router-link-active">
              <img class="toolbarImges" src="assets/img/cancel.svg" />
            </button>
            <div class="verticalToolbarSeparator hiddenSmallView"></div>
            <pdf-toggle-secondary-toolbar></pdf-toggle-secondary-toolbar>
          </div>
          <pdf-zoom-toolbar></pdf-zoom-toolbar>
        </div>
      </ng-template>
       </ng-template> 
    
      <!-- <ng-container *ngIf="pdfData">
        <ngx-extended-pdf-viewer [customToolbar]="additionalButtons" [src]="pdfData" [height]="'90vh'"
          [useBrowserLocale]="true" [textLayer]="true" [zoom]="'page-width'" [showHandToolButton]="true"
          [filenameForDownload]="downloadFileName[reporterObj.currentUrl] ? downloadFileName[reporterObj.currentUrl] : 'document'">
        </ngx-extended-pdf-viewer>
      </ng-container>

      <ng-template #additionalButtons>
        <div id="toolbarViewer">
          <div id="toolbarViewerLeft">
            <pdf-toggle-sidebar></pdf-toggle-sidebar>
            <div class="toolbarButtonSpacer"></div>
            <pdf-find-button [showFindButton]="true" [textLayer]="true"></pdf-find-button>
            <pdf-paging-area></pdf-paging-area>
          </div>
          <div id="toolbarViewerRight">
            <pdf-open-file></pdf-open-file>
            <pdf-presentation-mode></pdf-presentation-mode>
            <pdf-print></pdf-print>
            <pdf-download></pdf-download>
            <button type="button" class="toolbarButton new-tab hiddenMediumView" title="Download CSV file"
              (click)="exportCSVData()">
              <img class="toolbarImges" src="assets/img/csv.svg" />
            </button>
            <button type="button" class="toolbarButton new-tab hiddenMediumView" title="Download xlsx file"
              (click)="exportAsXLSX()">
              <img class="toolbarImges" src="assets/img/excel-file.svg" />
            </button>
        
            <button type="button" class="toolbarButton new-tab hiddenMediumView" title="Close" [routerLink]="['/']"
              routerLinkActive="router-link-active">
              <img class="toolbarImges" src="assets/img/cancel.svg" />
            </button>
            <div class="verticalToolbarSeparator hiddenSmallView"></div>
            <pdf-toggle-secondary-toolbar></pdf-toggle-secondary-toolbar>
          </div>
          <pdf-zoom-toolbar></pdf-zoom-toolbar>
        </div>
      </ng-template> -->
    </div>
  </div>
</div>

<div class="modal fade bd-example-modal-lg thm-popup" id="reportFilter" tabindex="-1" role="dialog"
  aria-labelledby="reportFilterModalLabel" aria-hidden="true">
  <form [formGroup]="salesReportForm">
    <div class="modal-dialog modal-dialog-centered modal-lg" role="document">
      <div class="modal-content">
        <div class="modal-body popup-box-width">
          <div class="popup-box">
            <div class="title-wrap mb-1">
              <div class="form-row align-items-center">
                <div class="col-10">
                  <h4 class="title mb-0">{{ salesByText }}</h4>
                </div>
                <div class="col-2 text-right">
                  <button type="button" class="btn btn-grey btn-grey-refresh" (click)="refreshBtnClicked()">
                    <i class="icon fa fa-refresh"></i>
                  </button>
                </div>
              </div>
            </div>
            <div class="form-row">
              <div class="col-lg-6 col-xl-6">

                <!-- DATE RANGE -->
                <ng-container *ngIf="filterSetting?.startDate && filterSetting?.endDate">
                  <div class="group-from">
                    <h5 class="title">
                      Date Range
                      <ng-container *ngIf="reporterObj.currentUrl !== 'stockPurchase' ">
                        <span class="text-danger">*</span>
                      </ng-container>
                     
                    </h5>
                    <div class="form-row align-items-center">
                      <div class="col-5">
                        <div class="form-group mb-0">
                          <div class="ctm-calendar">
                            <!-- {{f?.startDate?.value }}{{ customdatetimeformat}} -->
                            <!--                               [value]="f?.startDate?.value | customdatetimeformat" -->

                            <!-- {{f?.startDate?.value}} -->
                            <input type="text" onkeydown="return false" class="form-control"
                              (bsValueChange)="onDateChange($event, 'startDate', true); specDateChange($event, f?.endDate?.value);"
                              bsDatepicker [bsValue]="startDateBsValue" [bsConfig]="datepickerConfig"
                              [maxDate]="maxDate" [ngClass]="{
                                'is-invalid': submitted && f.startDate.errors
                              }" />
                            <!-- formControlName="startDate" -->
                            <!-- #dp="bsDatepicker" -->
                            <div *ngIf="f.startDate.errors" class="invalid-feedback">
                              <div *ngIf="f.startDate.errors.required">
                                Start date is required
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="col-2">
                        <div class="form-group mb-0 text-center">
                          <label for="" class="mb-0">To</label>
                        </div>
                      </div>
                      <div class="col-5">
                        <div class="form-group mb-0">
                          <div class="ctm-calendar">
                            <input type="text" onkeydown="return false" class="form-control" bsDatepicker
                              [bsValue]="endDateBsValue" [minDate]="lastEndDate || f?.startDate?.value"
                              [bsConfig]="datepickerConfig" [value]="f?.endDate?.value | customdatetimeformat"
                              (bsValueChange)="onDateChange($event, 'endDate'); specDateChange(f?.startDate?.value, $event);"
                              [maxDate]="maxDate" [ngClass]="{
                                'is-invalid': submitted && f.endDate.errors
                              }" />
                            <div *ngIf="f.endDate.errors" class="invalid-feedback">
                              <div *ngIf="f.endDate.errors.required">
                                End date is required
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </ng-container>

                <!--Invoice DATE RANGE -->
                <div class="group-from"
                  *ngIf="filterSetting?.orderInvoiceStartDate && filterSetting?.orderInvoiceEndDate">
                  <h5 class="title">
                    Invoice Date Range 
                    <ng-container *ngIf="reporterObj.currentUrl !== 'stockPurchase' ">
                      <span class="text-danger">*</span>
                    </ng-container>
                  </h5>
                  <div class="form-row align-items-center">
                    <div class="col-5">
                      <div class="form-group mb-0">
                        <div class="ctm-calendar">
                          <input type="text" class="form-control" bsDatepicker
                            [value]="f?.orderInvoiceStartDate?.value | customdatetimeformat"
                            (bsValueChange)="onDateChangeInvoice($event, 'orderInvoiceStartDate', true); specInvoiceDateChange($event, f?.orderInvoiceEndDate?.value);"
                            [bsConfig]="datepickerConfig" [maxDate]="maxDate" [ngClass]="{
                              'is-invalid':
                                submitted && f.orderInvoiceStartDate.errors
                            }" />
                          <div *ngIf="f.orderInvoiceStartDate.errors" class="invalid-feedback">
                            <div *ngIf="f.orderInvoiceStartDate.errors.required">
                              Invoice Start date is required
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="col-2">
                      <div class="form-group mb-0 text-center">
                        <label for="" class="mb-0">To</label>
                      </div>
                    </div>
                    <div class="col-5">
                      <div class="form-group mb-0">
                        <div class="ctm-calendar">
                          <input type="text" class="form-control"
                            [minDate]="lastEndDateInvoice || f?.orderInvoiceStartDate?.value"
                            [bsConfig]="datepickerConfig" [value]="f?.orderInvoiceEndDate?.value | customdatetimeformat"
                            (bsValueChange)="onDateChangeInvoice($event, 'orderInvoiceEndDate'); specInvoiceDateChange(f?.orderInvoiceStartDate?.value, $event);"
                            bsDatepicker [maxDate]="maxDate" [ngClass]="{
                              'is-invalid':
                                submitted && f.orderInvoiceEndDate.errors
                            }" />
                          <div *ngIf="f.orderInvoiceEndDate.errors" class="invalid-feedback">
                            <div *ngIf="f.orderInvoiceEndDate.errors.required">
                              Invoice End date is required
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div>
                    <div class="custom-control form-group custom-checkbox mb-0">
                      <input type="checkbox" class="custom-control-input" id="invoiceDates"
                        formControlName="useInvoiceDates" />
                      <label class="custom-control-label mb-0" for="invoiceDates">Use Invoice Dates</label>
                    </div>
                  </div>
                </div>

                <!-- PRODUCT RANGE -->
                <div class="group-from" *ngIf="filterSetting?.productStartId && filterSetting?.productEndId">
                  <h5 class="title">Product Number Range</h5>
                  <div class="form-row align-items-center">
                    <div class="col-5">
                      <div class="form-group mb-0">
                        <input type="number" class="form-control" placeholder="" formControlName="productStartId"
                          [ngClass]="{
                            'is-invalid': submitted && f.productStartId.errors
                          }" />
                      </div>
                    </div>
                    <div class="col-2">
                      <div class="form-group mb-0 text-center">
                        <label for="" class="mb-0">To</label>
                      </div>
                    </div>
                    <div class="col-5">
                      <div class="form-group mb-0">
                        <input type="number" class="form-control" placeholder="" formControlName="productEndId"
                          [ngClass]="{
                            'is-invalid': submitted && f.productEndId.errors
                          }" />
                      </div>
                    </div>
                  </div>
                </div>

                <!-- REPLICATE FILTER -->
                <div class="group-from" *ngIf="filterSetting?.replicateCode">
                  <h5 class="title">Replicate Filter</h5>
                  <div class="form-row form-group align-items-center mb-0">
                    <div class="col-6">
                      <label>Replicate Code</label>
                      <!-- <div class="custom-control custom-checkbox">
                        <label class="custom-control-label mb-0">Replicate Code</label>
                      </div> -->
                    </div>
                    <div class="col-6">
                      <div class="form-row align-items-center">
                        <div class="col-2">
                          <label class="label mb-0">&nbsp;</label>
                        </div>
                        <div class="col-10">
                          <input formControlName="replicateCode" appUppercase type="text" class="form-control" />
                        </div>
                      </div>
                    </div>
                  </div>
                </div>

                <!-- PROMOTION FILTER -->
                <div class="group-from" *ngIf="filterSetting?.isPromoSale && filterSetting?.promoCode ">
                  <h5 class="title">Promotion Filter</h5>
                  <div class="form-row form-group align-items-center mb-0">
                    <div class="col-5">
                      <div class="custom-control custom-checkbox">
                        <input formControlName="isPromoSale" type="checkbox" class="custom-control-input"
                          id="promoSalesTag" />
                        <label class="custom-control-label mb-0" for="promoSalesTag">Only Promo Sales</label>
                      </div>
                    </div>
                    <div class="col-2 text-right">
                      <label class="label mb-0">Promo </label>
                    </div>
                    <div class="col-5">
                      <input formControlName="promoCode" appUppercase type="text" class="form-control" />
                    </div>
                  </div>
                </div>

                <!-- Summary Report Options -->
                <div class="group-from" *ngIf="filterSetting?.summaryOption">
                  <h5 class="title">Summary Report Options</h5>
                  <div class="d-flex flex-wrap form-group mb-0">
                    <div class="custom-control custom-radio mr-2">
                      <input type="radio" class="custom-control-input" id="Summary" name="summaryOption"
                        (change)="setSummaryOption('summary')" />
                      <label class="custom-control-label mb-0" for="Summary">Summary</label>
                    </div>
                    <div class="custom-control custom-radio mr-2">
                      <input type="radio" class="custom-control-input" id="Dril" name="summaryOption"
                        (change)="setSummaryOption('drilldown')" />
                      <label class="custom-control-label mb-0" for="Dril">Drill Down</label>
                    </div>
                    <div class="custom-control custom-radio mr-2">
                      <input type="radio" class="custom-control-input" id="Chart" name="summaryOption"
                        (change)="setSummaryOption('chart')" />
                      <label class="custom-control-label mb-0" for="Chart">Chart</label>
                    </div>
                    <div class="custom-control custom-radio mr-2">
                      <input type="radio" class="custom-control-input" id="Continuous" name="summaryOption"
                        (change)="setSummaryOption('continuous')" />
                      <label class="custom-control-label mb-0" for="Continuous">Continuous</label>
                    </div>
                  </div>
                </div>

                <!-- Alternate Sort Order -->
                <div class="group-from" *ngIf="filterSetting?.sortOption">
                  <h5 class="title">Alternate Sort Order</h5>
                  <div class="d-flex flex-wrap form-group mb-0">
                    <div class="custom-control custom-radio mr-2">
                      <input type="radio" class="custom-control-input" id="Quantity" name="altSortOrder"
                        (change)="setAlternateSortOrder('quantity')" />
                      <label class="custom-control-label mb-0" for="Quantity">Quantity</label>
                    </div>
                    <div class="custom-control custom-radio mr-2">
                      <input type="radio" class="custom-control-input" id="Amount" name="altSortOrder"
                        (change)="setAlternateSortOrder('amount')" />
                      <label class="custom-control-label mb-0" for="Amount">$Amount</label>
                    </div>
                    <div class="custom-control custom-radio mr-2">
                      <input type="radio" class="custom-control-input" id="GP" name="altSortOrder"
                        (change)="setAlternateSortOrder('GP')" />
                      <label class="custom-control-label mb-0" for="GP">GP%</label>
                    </div>
                    <div class="custom-control custom-radio mr-2">
                      <input type="radio" class="custom-control-input" id="Margin" name="altSortOrder"
                        (change)="setAlternateSortOrder('margin')" />
                      <label class="custom-control-label mb-0" for="Margin">$Margin</label>
                    </div>
                  </div>
                </div>

                <!-- Shrinkage -->
                <div class="group-from" *ngIf="filterSetting?.shrinkageOption">
                  <h5 class="title">Shrinkage</h5>
                  <div class="d-flex flex-wrap form-group mb-0">
                    <div class="custom-control custom-checkbox mr-2">
                      <input type="checkbox" class="custom-control-input" id="Variance" (click)="
                          setShrinkage('Variance', $event.target.checked) 
                        " />
                      <label class="custom-control-label mb-0" for="Variance">Variance</label>
                    </div>
                    <div class="custom-control custom-checkbox mr-2">
                      <input type="checkbox" class="custom-control-input" id="Wastage"
                        (click)="setShrinkage('Wastage', $event.target.checked)" />
                      <label class="custom-control-label mb-0" for="Wastage">Wastage</label>
                    </div>
                    <div class="custom-control custom-checkbox mr-2">
                      <input type="checkbox" class="custom-control-input" id="Merge"
                        (click)="setShrinkage('Merge', $event.target.checked)" />
                      <label class="custom-control-label mb-0" for="Merge">Merge</label>
                    </div>
                  </div>
                </div>

                <!-- Nil Transactions Interval -->
                <div class="group-from mb-0" *ngIf="filterSetting?.nilTransactionInterval">
                  <h5 class="title">Nil Transactions Interval</h5>
                  <div class="form-row align-items-center">
                    <div class="col-12">
                      <div class="form-group mb-0">
                        <input type="number" class="form-control" formControlName="nilTransactionInterval" />
                      </div>
                    </div>
                  </div>
                </div>

                <!-- Set Items with Negative on Hand to Zero -->
                <div class="group-from" *ngIf="filterSetting?.stockOption">
                  <h5 class="title"></h5>
                  <div class="form-row form-group align-items-center mb-0">
                    <div class="col-12">
                      <div class="custom-control custom-checkbox">
                        <input formControlName="isNegativeOnHandZero" type="checkbox" class="custom-control-input"
                          id="stockOnHand" />
                        <label class="custom-control-label mb-0" for="stockOnHand">Set Items with Negative on Hand to
                          Zero</label>
                      </div>
                    </div>
                  </div>
                </div>

                <!-- Cashiers Selection -->
                <div class="group-from mb-0" *ngIf="filterSetting?.cashierId">
                  <h5 class="title">Cashier Selection</h5>
                  <div class="form-row align-items-center">
                    <div class="col-12">
                      <div class="form-group mb-0">
                        <ng-select [items]="dropdownObj.cashiers" bindLabel="surname" bindValue="id"
                          [virtualScroll]="false" placeholder="Select Cashier" formControlName="cashierId"
                          [searchFn]="customSearchFn" (search)="
                            searchBtnAction(
                              $event,
                              reporterObj.dropdownField.cashiers
                            )
                          " (change)="setSelection($event, 'cashiers', 'firstName', 'surname')">
                          <!-- <ng-template ng-option-tmp let-item="item" let-item$="item$" let-index="index">
                            <div class="form-row">
                              <div class="col-12 zone-overflow">
                                {{ item.firstName }}&nbsp;&nbsp;{{item.surname}}
                              </div>                           
                            </div>
                          </ng-template> -->

                          <!-- Search on code / lastname / surname -->
                          <ng-template ng-option-tmp let-item="item" let-search="searchTerm" let-index="index">
                            <div class="form-row">
                              <div class="col-5 zone-overflow">
                                <span title="{{ item.surname }}">
                                  {{item.surname}}
                                </span>
                              </div>
                              <div class="col-5" title="{{item.firstName}}">

                                {{ item.firstName }}
                              </div>
                              <div class="col-2" title="{{item.number}}">
                                {{ item?.number }}
                              </div>
                            </div>
                          </ng-template>

                          <!-- Add more tag with count -->
                          <ng-template ng-multi-label-tmp let-items="items" let-clear="clear">
                            <div class="ng-value" *ngFor="let item of items | slice: 0:2">
                              <span class="ng-value-label">{{ item.firstName }}&nbsp;&nbsp;{{
                                  item.surname
                                }}</span>
                              <span class="ng-value-icon right" (click)="clear(item)" aria-hidden="true">×</span>
                            </div>
                            <div class="ng-value" *ngIf="items.length > 2">
                              <span class="ng-value-label">{{ items.length - 2 }} more...</span>
                            </div>
                          </ng-template>
                        </ng-select>
                      </div>
                    </div>
                  </div>
                </div>

                <!-- Till Selection -->
                <div class="group-from mb-0" *ngIf="filterSetting?.tillId">
                  <h5 class="title">Till Selection</h5>
                  <div class="form-row align-items-center">
                    <div class="col-12">
                      <div class="form-group mb-0 till-dropdown">
                        <ng-select [items]="dropdownObj.tills" bindLabel="desc" bindValue="id" [virtualScroll]="false"
                          placeholder="Select Till" formControlName="tillId"
                          (search)="searchBtnAction($event, reporterObj.dropdownField.tills)"
                          (change)="setSelection($event, 'tills', 'desc')"
                          [disabled]="salesReportCode == 'stockAdjustment' ? true : false">
                          <ng-template ng-option-tmp let-item="item" let-item$="item$" let-index="index">
                            <div class="form-row">
                              <div class="col-9 zone-overflow">
                                <span title="{{ item?.desc }}">
                                  {{ item?.desc }}
                                </span>
                              </div>
                              <div class="col-3">
                                {{ item?.code }}
                              </div>
                            </div>
                          </ng-template>

                          <!-- Add more tag with count -->
                          <ng-template ng-multi-label-tmp let-items="items" let-clear="clear">
                            <div class="ng-value" *ngFor="let item of items | slice: 0:2">
                              <span class="ng-value-label">{{item.desc}}</span>
                              <span class="ng-value-icon right" (click)="clear(item)" aria-hidden="true">×</span>
                            </div>
                            <!-- <div class="ng-value" *ngIf="items.length > 2">
                              <span class="ng-value-label">{{ items.length - 2 }} more...</span>
                            </div> -->
                          </ng-template>
                        </ng-select>
                      </div>
                    </div>
                  </div>
                </div>

                <div class="mt-2" *ngIf="filterSetting?.isMember">
                  <div class="custom-control form-group custom-checkbox mb-0">
                    <input type="checkbox" class="custom-control-input" id="Member" formControlName="isMember"
                      [checked]="dropdownObj?.keep_filter?.filter?.isMember ? true : false" />
                    <label class="custom-control-label mb-0" for="Member">Only Member Sales</label>
                  </div>
                </div>

                <!-- Include Rebates -->
                <div class="" *ngIf="filterSetting?.isRebates">
                  <div class="custom-control form-group custom-checkbox mb-0">
                    <input type="checkbox" class="custom-control-input" id="rebets" formControlName="isRebates" />
                    <label class="custom-control-label mb-0" for="rebets">Include Rebates</label>
                  </div>
                </div>
              </div>

              <div class="col-lg-6 col-xl-6">
                <div class="group-from">
                  <h5 class="title">Codes</h5>
                  <div class="">
                    <div class="accordion OutletRestList" id="accordionExample">
                      <div class="form-group form-row">
                        <label class="label col-md-3 mb-0">Stores</label>
                        <div class="col-md-9 mb-0">
                          <ng-select [items]="dropdownObj.stores" bindLabel="storeDetail" bindValue="id"
                            [virtualScroll]="false" [multiple]="true" [clearSearchOnAdd]="true" [closeOnSelect]="false"
                            placeholder="Select Store" formControlName="storeIds"
                            (search)="searchBtnAction($event, reporterObj.dropdownField.stores)"
                            (change)="setDropdownSelection(reporterObj.dropdownField.stores, $event)" (open)="getAndSetFilterData(reporterObj.dropdownField.stores, reporterObj.dropdownField.storeIds,
                              true)" (add)="addOrRemoveItem($event, reporterObj.dropdownField.stores, 'add')"
                            (remove)="addOrRemoveItem($event, reporterObj.dropdownField.stores, 'remove')" (clear)="addOrRemoveItem($event, reporterObj.dropdownField.stores, 'clear_all', 
                              reporterObj.dropdownField.storeIds)">
                            <!-- It hold value on the basis of filter -->
                            <ng-template ng-option-tmp let-item="item" let-item$="item$" let-index="index">
                              <div class="form-row">
                                <div class="col-9 zone-overflow">
                                  <input id="item-{{ index }}" type="checkbox"
                                    [checked]="reporterObj?.remove_index_map?.stores[item.id] ? true : false" />&nbsp;
                                  <span title="{{ item?.desc }}">
                                    {{ item?.desc }}
                                  </span>
                                  <span>{{selectAll(reporterObj.dropdownField.stores, item)}}</span>
                                </div>
                                <div class="col-3">
                                  {{ item?.code }}
                                </div>
                              </div>
                            </ng-template>

                            <!-- Add button on top of the select and perform operations -->
                            <ng-template ng-header-tmp>
                              <div class="form-row align-items-center form-group mb-0">
                                <div class="col-12 text-right">
                                  <button (click)="
                                      addOrRemoveItem(
                                        null,
                                        reporterObj.dropdownField.stores,
                                        reporterObj?.button_text?.stores,
                                        reporterObj.dropdownField.storeIds
                                      )
                                    " class="btn btn-blue input-btn btn-grey">
                                    {{ reporterObj?.button_text?.stores }}
                                  </button>
                                </div>
                              </div>
                            </ng-template>

                            <!-- Add more tag with count -->
                            <ng-template ng-multi-label-tmp let-items="items" let-clear="clear">
                              <div class="ng-value" *ngFor="let item of items | slice: 0:2">
                                <span class="ng-value-label">{{
                                  item.storeDetail
                                }}</span>
                                <span class="ng-value-icon right" (click)="clear(item)" aria-hidden="true">×</span>
                              </div>
                              <div class="ng-value" *ngIf="items.length > 2">
                                <span class="ng-value-label">{{ items.length - 2 }} more...</span>
                              </div>
                            </ng-template>
                          </ng-select>
                        </div>
                      </div>

                      <div class="form-group form-row">
                        <label class="label col-md-3 mb-0">Days of Week</label>
                        <div class="col-md-9 mb-0">
                          <ng-select [items]="dropdownObj.days" bindLabel="name" bindValue="code" [virtualScroll]="false"
                            [clearSearchOnAdd]="true" [closeOnSelect]="false" [multiple]="true" placeholder="Days of Week"
                            formControlName="days" (change)="setDropdownSelection(reporterObj.dropdownField.days, $event)"
                            (open)="getAndSetFilterData(reporterObj.dropdownField.days, reporterObj.dropdownField.daysId,
                              true)" (add)="addOrRemoveItem($event, reporterObj.dropdownField.days, 'add')"
                            (remove)="addOrRemoveItem($event, reporterObj.dropdownField.days, 'remove')" (clear)="addOrRemoveItem($event, reporterObj.dropdownField.days, 'clear_all', 
                              reporterObj.dropdownField.daysId)">
                            <ng-template ng-option-tmp let-item="item" let-item$="item$" let-index="index">
                              <div class="form-row">
                                <div class="col-9 zone-overflow">
                                  <input id="item-{{ item?.name }}" type="checkbox"
                                    [checked]="reporterObj?.remove_index_map?.days[item?.code] ? true : false" />&nbsp;
                                  <span title="{{ item?.name }}">
                                    {{ item?.name }}
                                  </span>
                                  <span>{{selectAll(reporterObj.dropdownField.days, item)}}</span>
                                </div>
                              </div>
                            </ng-template>

                            <!-- Add button on top of the select and perform operations -->
                            <ng-template ng-header-tmp>
                              <div class="form-row align-items-center form-group mb-0">
                                <div class="col-12 text-right">
                                  <button (click)="
                                      addOrRemoveItem(
                                        null,
                                        reporterObj.dropdownField.days,
                                        reporterObj?.button_text?.days,
                                        reporterObj.dropdownField.daysId
                                      )
                                    " class="btn btn-blue input-btn btn-grey">
                                    {{ reporterObj?.button_text?.days }}
                                  </button>
                                </div>
                              </div>
                            </ng-template>

                            <!-- Add more tag with count -->
                            <ng-template ng-multi-label-tmp let-items="items" let-clear="clear">
                              <div class="ng-value" *ngFor="let item of items | slice: 0:2">
                                <span class="ng-value-label">{{
                                  item.name
                                }}</span>
                                <span class="ng-value-icon right" (click)="clear(item)" aria-hidden="true">×</span>
                              </div>
                              <div class="ng-value" *ngIf="items.length > 2">
                                <span class="ng-value-label">{{ items.length - 2 }} more...</span>
                              </div>
                            </ng-template>
                          </ng-select>
                        </div>
                      </div>
                      <div class="form-group form-row">
                        <label class="label col-md-3 mb-0">Zone</label>
                        <div class="col-md-9 mb-0">
                          <ng-select [items]="dropdownObj.zones" bindLabel="name" bindValue="id" [virtualScroll]="false"
                            [multiple]="true" [clearSearchOnAdd]="true" [closeOnSelect]="false" placeholder="Select Zone"
                            formControlName="zoneIds" (search)="searchBtnAction($event,reporterObj.dropdownField.zones)"
                            (change)="setDropdownSelection(reporterObj.dropdownField.zones, $event)" (open)="getAndSetFilterData(reporterObj.dropdownField.zones, reporterObj.dropdownField.zoneIds,
                              true)" (add)="addOrRemoveItem($event, reporterObj.dropdownField.zones, 'add')"
                            (remove)="addOrRemoveItem($event, reporterObj.dropdownField.zones, 'remove')" (clear)="addOrRemoveItem($event, reporterObj.dropdownField.zones, 'clear_all', 
                              reporterObj.dropdownField.zoneIds)">
                            <!-- It hold value on the basis of filter -->
                            <ng-template ng-option-tmp let-item="item" let-item$="item$" let-index="index">
                              <div class="form-row">
                                <div class="col-9 zone-overflow">
                                  <input id="item-{{ index }}" type="checkbox"
                                    [checked]="reporterObj?.remove_index_map?.zones[item.id] ? true : false" />&nbsp;
                                  <span title="{{ item?.name }}">
                                    {{ item?.name }}
                                  </span>
                                  <span>{{selectAll(reporterObj.dropdownField.zones, item)}}</span>
                                </div>
                                <div class="col-3">
                                  {{ item?.code }}
                                </div>
                              </div>
                            </ng-template>

                            <!-- Add button on top of the select and perform operations -->
                            <ng-template ng-header-tmp>
                              <div class="align-items-center form-group mb-0">
                                <div class="text-right">
                                  <button (click)="
                                      addOrRemoveItem(
                                        null,
                                        reporterObj.dropdownField.zones,
                                        reporterObj?.button_text?.zones,
                                        reporterObj.dropdownField.zoneIds
                                      )
                                    " class="btn btn-blue input-btn btn-grey">
                                    {{ reporterObj?.button_text?.zones }}
                                  </button>
                                </div>
                              </div>
                            </ng-template>

                            <!-- Add more tag with count -->
                            <ng-template ng-multi-label-tmp let-items="items" let-clear="clear">
                              <div class="ng-value" *ngFor="let item of items | slice: 0:2">
                                <span class="ng-value-label">{{ item.name }}</span>
                                <span class="ng-value-icon right" (click)="clear(item)" aria-hidden="true">×</span>
                              </div>
                              <div class="ng-value" *ngIf="items.length > 2">
                                <span class="ng-value-label">{{ items.length - 2 }} more...</span>
                              </div>
                            </ng-template>
                          </ng-select>
                        </div>
                      </div>
                      <div class="form-group form-row">
                        <label class="label col-md-3 mb-0">Departments</label>
                        <div class="col-md-9 mb-0">
                            <ng-select [items]="dropdownObj.departments" bindLabel="desc" bindValue="id"
                              [clearSearchOnAdd]="true" [closeOnSelect]="false" [virtualScroll]="false" [multiple]="true"
                              placeholder="Select Department" formControlName="departmentIds" (search)="
                                searchBtnAction(
                                  $event,
                                  reporterObj.dropdownField.departments
                                )
                              " (change)="setDropdownSelection(reporterObj.dropdownField.departments, $event)" (open)="getAndSetFilterData(reporterObj.dropdownField.departments, 
                                reporterObj.dropdownField.departmentIds, true)"
                              (add)="addOrRemoveItem($event, reporterObj.dropdownField.departments, 'add')"
                              (remove)="addOrRemoveItem($event, reporterObj.dropdownField.departments, 'remove')" (clear)="addOrRemoveItem($event, reporterObj.dropdownField.departments, 'clear_all', 
                                reporterObj.dropdownField.departmentIds)">
                              <!-- It hold value on the basis of filter -->
                              <ng-template ng-option-tmp let-item="item" let-item$="item$" let-index="index">
                                <div class="form-row">
                                  <div class="col-9 zone-overflow">
                                    <input id="item-{{ index }}" type="checkbox"
                                      [checked]="reporterObj?.remove_index_map?.departments[item.id] ? true : false" />&nbsp;
                                    <span title="{{ item?.desc }}">
                                      {{ item?.desc }}
                                    </span>
                                    <span>{{selectAll(reporterObj.dropdownField.departments, item)}}</span>
                                  </div>
                                  <div class="col-3">
                                    {{ item?.code }}
                                  </div>
                                </div>
                              </ng-template>

                              <!-- Add button on top of the select and perform operations -->
                              <ng-template ng-header-tmp>
                                <div class="align-items-center form-group mb-0">
                                  <div class="text-right">
                                    <button (click)="
                                        addOrRemoveItem(
                                          null,
                                          reporterObj.dropdownField.departments,
                                          reporterObj?.button_text?.departments,
                                          reporterObj.dropdownField.departmentIds
                                        )
                                      " class="btn btn-blue input-btn btn-grey">
                                      {{ reporterObj?.button_text?.departments }}
                                    </button>
                                  </div>
                                </div>
                              </ng-template>

                              <!-- Add more tag with count -->
                              <ng-template ng-multi-label-tmp let-items="items" let-clear="clear">
                                <div class="ng-value" *ngFor="let item of items | slice: 0:2">
                                  <span class="ng-value-label">{{ item.desc }}</span>
                                  <span class="ng-value-icon right" (click)="clear(item)" aria-hidden="true">×</span>
                                </div>
                                <div class="ng-value" *ngIf="items.length > 2">
                                  <span class="ng-value-label">{{ items.length - 2 }} more...</span>
                                </div>
                              </ng-template>
                            </ng-select>
                        </div>
                      </div>
                      <div class="form-group form-row">
                        <label class="label col-md-3 mb-0">Commodities</label>
                        <div class="col-md-9 mb-0">
                          <ng-select [items]="dropdownObj.commodities" bindLabel="desc" bindValue="id"
                            [clearSearchOnAdd]="true" [closeOnSelect]="false" [virtualScroll]="false" [multiple]="true"
                            placeholder="Select Commodity" formControlName="commodityIds"
                            (search)="searchBtnAction($event,reporterObj.dropdownField.commodities)"
                            (change)="setDropdownSelection(reporterObj.dropdownField.commodities, $event)" (open)="getAndSetFilterData(reporterObj.dropdownField.commodities, 
                              reporterObj.dropdownField.commodityIds, true)"
                            (add)="addOrRemoveItem($event, reporterObj.dropdownField.commodities, 'add')"
                            (remove)="addOrRemoveItem($event, reporterObj.dropdownField.commodities, 'remove')" (clear)="addOrRemoveItem($event, reporterObj.dropdownField.commodities, 'clear_all', 
                              reporterObj.dropdownField.commodityIds)">
                            <!-- It hold value on the basis of filter -->
                            <ng-template ng-option-tmp let-item="item" let-item$="item$" let-index="index">
                              <div class="form-row">
                                <div class="col-9 zone-overflow">
                                  <input id="item-{{ index }}" type="checkbox"
                                    [checked]="reporterObj?.remove_index_map?.commodities[item.id] ? true : false" />&nbsp;
                                  <span title="{{ item?.desc }}">
                                    {{ item?.desc }}
                                  </span>
                                  <span>{{selectAll(reporterObj.dropdownField.commodities, item)}}</span>
                                </div>
                                <div class="col-3">
                                  {{ item?.code }}
                                </div>
                              </div>
                            </ng-template>
  
                            <!-- Add button on top of the select and perform operations -->
                            <ng-template ng-header-tmp>
                              <div class="align-items-center form-group mb-0">
                                <div class="text-right">
                                  <button (click)="
                                      addOrRemoveItem(
                                        null,
                                        reporterObj.dropdownField.commodities,
                                        reporterObj?.button_text?.commodities,
                                        reporterObj.dropdownField.commodityIds
                                      )
                                    " class="btn btn-blue input-btn btn-grey">
                                    {{ reporterObj?.button_text?.commodities }}
                                  </button>
                                </div>
                              </div>
                            </ng-template>
  
                            <!-- Add more tag with count -->
                            <ng-template ng-multi-label-tmp let-items="items" let-clear="clear">
                              <div class="ng-value" *ngFor="let item of items | slice: 0:2">
                                <span class="ng-value-label">{{ item.desc }}</span>
                                <span class="ng-value-icon right" (click)="clear(item)" aria-hidden="true">×</span>
                              </div>
                              <div class="ng-value" *ngIf="items.length > 2">
                                <span class="ng-value-label">{{ items.length - 2 }} more...</span>
                              </div>
                            </ng-template>
                          </ng-select>
                        </div>
                      </div>
                      <div class="form-group form-row">
                        <label class="label col-md-3 mb-0">Categories</label>
                        <div class="col-md-9 mb-0">
                          <ng-select [items]="dropdownObj.categories" bindLabel="name" bindValue="id"
                            [clearSearchOnAdd]="true" [closeOnSelect]="false" [virtualScroll]="false" [multiple]="true"
                            placeholder="Select Category" formControlName="categoryIds" (search)="
                              searchBtnAction(
                                $event,
                                reporterObj.dropdownField.categories
                              )
                            " (change)="setDropdownSelection(reporterObj.dropdownField.categories, $event)" (open)="getAndSetFilterData(reporterObj.dropdownField.categories, 
                              reporterObj.dropdownField.categoryIds, true)"
                            (add)="addOrRemoveItem($event, reporterObj.dropdownField.categories, 'add')"
                            (remove)="addOrRemoveItem($event, reporterObj.dropdownField.categories, 'remove')" (clear)="addOrRemoveItem($event, reporterObj.dropdownField.categories, 'clear_all', 
                              reporterObj.dropdownField.categoryIds)">
                            <!-- It hold value on the basis of filter -->
                            <ng-template ng-option-tmp let-item="item" let-item$="item$" let-index="index">
                              <div class="form-row">
                                <div class="col-9 zone-overflow">
                                  <input id="item-{{ index }}" type="checkbox"
                                    [checked]="reporterObj?.remove_index_map?.categories[item.id] ? true : false" />&nbsp;
                                  <span title="{{ item?.name }}">
                                    {{ item?.name }}
                                  </span>
                                  <span>{{selectAll(reporterObj.dropdownField.categories, item)}}</span>
                                </div>
                                <div class="col-3">
                                  {{ item?.code }}
                                </div>
                              </div>
                            </ng-template>

                            <!-- Add button on top of the select and perform operations -->
                            <ng-template ng-header-tmp>
                              <div class="align-items-center form-group mb-0">
                                <div class="text-right">
                                  <button (click)="
                                    addOrRemoveItem(
                                      null,
                                      reporterObj.dropdownField.categories,
                                      reporterObj?.button_text?.categories,
                                      reporterObj.dropdownField.categoryIds
                                    )
                                  " class="btn btn-blue input-btn btn-grey">
                                    {{ reporterObj?.button_text?.categories }}
                                  </button>
                                </div>
                              </div>
                            </ng-template>

                            <!-- Add more tag with count -->
                            <ng-template ng-multi-label-tmp let-items="items" let-clear="clear">
                              <div class="ng-value" *ngFor="let item of items | slice: 0:2">
                                <span class="ng-value-label">{{
                                item.fullName
                              }}</span>
                                <span class="ng-value-icon right" (click)="clear(item)" aria-hidden="true">×</span>
                              </div>
                              <div class="ng-value" *ngIf="items.length > 2">
                                <span class="ng-value-label">{{ items.length - 2 }} more...</span>
                              </div>
                            </ng-template>
                          </ng-select>
                        </div>
                      </div>
                      <div class="form-group form-row">
                        <label class="label col-md-3 mb-0">Departments</label>
                        <div class="col-md-9 mb-0">
                          <ng-select [items]="dropdownObj.groups" bindLabel="name" bindValue="id"
                          [clearSearchOnAdd]="true" [closeOnSelect]="false" [virtualScroll]="false" [multiple]="true"
                          placeholder="Select Group" formControlName="groupIds" (search)="
                            searchBtnAction(
                              $event,
                              reporterObj.dropdownField.groups
                            )
                          " (change)="setDropdownSelection(reporterObj.dropdownField.groups, $event)" (open)="getAndSetFilterData(reporterObj.dropdownField.groups, 
														reporterObj.dropdownField.groupIds, true)"
                          (add)="addOrRemoveItem($event, reporterObj.dropdownField.groups, 'add')"
                          (remove)="addOrRemoveItem($event, reporterObj.dropdownField.groups, 'remove')" (clear)="addOrRemoveItem($event, reporterObj.dropdownField.groups, 'clear_all', 
														reporterObj.dropdownField.groupIds)">
                          <!-- It hold value on the basis of filter -->
                          <ng-template ng-option-tmp let-item="item" let-item$="item$" let-index="index">
                            <div class="form-row">
                              <div class="col-9 zone-overflow">
                                <input id="item-{{ index }}" type="checkbox"
                                  [checked]="reporterObj?.remove_index_map?.groups[item.id] ? true : false" />&nbsp;
                                <span title="{{ item?.name }}">
                                  {{ item?.name }}
                                </span>
                                <span>{{selectAll(reporterObj.dropdownField.groups, item)}}</span>
                              </div>
                              <div class="col-3">
                                {{ item?.code }}
                              </div>
                            </div>
                          </ng-template>

                          <!-- Add button on top of the select and perform operations -->
                          <ng-template ng-header-tmp>
                            <div class="align-items-center form-group mb-0">
                              <div class="text-right">
                                <button (click)="
                                    addOrRemoveItem(
                                      null,
                                      reporterObj.dropdownField.groups,
                                      reporterObj?.button_text?.groups,
                                      reporterObj.dropdownField.groupIds
                                    )
                                  " class="btn btn-blue input-btn btn-grey">
                                  {{ reporterObj?.button_text?.groups }}
                                </button>
                              </div>
                            </div>
                          </ng-template>

                          <!-- Add more tag with count -->
                          <ng-template ng-multi-label-tmp let-items="items" let-clear="clear">
                            <div class="ng-value" *ngFor="let item of items | slice: 0:2">
                              <span class="ng-value-label">{{
                                item.fullName
                              }}</span>
                              <span class="ng-value-icon right" (click)="clear(item)" aria-hidden="true">×</span>
                            </div>
                            <div class="ng-value" *ngIf="items.length > 2">
                              <span class="ng-value-label">{{ items.length - 2 }} more...</span>
                            </div>
                          </ng-template>
                        </ng-select>
                        </div>
                      </div>
                      <div class="form-group form-row">
                        <label class="label col-md-3 mb-0">Suppliers</label>
                        <div class="col-md-9 mb-0">
                          <ng-select [items]="dropdownObj.suppliers" bindLabel="desc" bindValue="id"
                          [clearSearchOnAdd]="true" [closeOnSelect]="false" [virtualScroll]="false" [multiple]="true"
                          placeholder="Select Supplier" formControlName="supplierIds" (search)="
                            searchBtnAction(
                              $event,
                              reporterObj.dropdownField.suppliers
                            )
                          " (change)="setDropdownSelection(reporterObj.dropdownField.suppliers, $event)" (open)="getAndSetFilterData(reporterObj.dropdownField.suppliers, 
														reporterObj.dropdownField.supplierIds, true)"
                          (add)="addOrRemoveItem($event, reporterObj.dropdownField.suppliers, 'add')"
                          (remove)="addOrRemoveItem($event, reporterObj.dropdownField.suppliers, 'remove')" (clear)="addOrRemoveItem($event, reporterObj.dropdownField.suppliers, 'clear_all', 
														reporterObj.dropdownField.supplierIds)">
                          <!-- It hold value on the basis of filter -->
                          <ng-template ng-option-tmp let-item="item" let-item$="item$" let-index="index">
                            <div class="form-row">
                              <div class="col-9 zone-overflow">
                                <input id="item-{{ index }}" type="checkbox"
                                  [checked]="reporterObj?.remove_index_map?.suppliers[item.id] ? true : false" />&nbsp;
                                <span title="{{ item?.desc }}">
                                  {{ item?.desc }}
                                </span>
                                <span>{{
                                  selectAll(reporterObj.dropdownField.suppliers, item)
                                }}</span>
                              </div>
                              <div class="col-3">
                                {{ item?.code }}
                              </div>
                            </div>
                          </ng-template>

                          <!-- Add button on top of the select and perform operations -->
                          <ng-template ng-header-tmp>
                            <div class="align-items-center form-group mb-0">
                              <div class="text-right">
                                <button (click)="
                                    addOrRemoveItem(
                                      null,
                                      reporterObj.dropdownField.suppliers,
                                      reporterObj?.button_text?.suppliers,
                                      reporterObj.dropdownField.supplierIds
                                    )
                                  " class="btn btn-blue input-btn btn-grey">
                                  {{ reporterObj?.button_text?.suppliers }}
                                </button>
                              </div>
                            </div>
                          </ng-template>

                          <!-- Add more tag with count -->
                          <ng-template ng-multi-label-tmp let-items="items" let-clear="clear">
                            <div class="ng-value" *ngFor="let item of items | slice: 0:2">
                              <span class="ng-value-label">{{ item.desc }} &nbsp;&nbsp;{{ item.code }}</span>
                              <span class="ng-value-icon right" (click)="clear(item)" aria-hidden="true">×</span>
                            </div>
                            <div class="ng-value" *ngIf="items.length > 2">
                              <span class="ng-value-label">{{ items.length - 2 }} more...</span>
                            </div>
                          </ng-template>
                        </ng-select>
                        </div>
                      </div>
                      <div class="form-group form-row">
                        <label class="label col-md-3 mb-0">Manufacturers</label>
                        <div class="col-md-9 mb-0">
                          <ng-select [items]="dropdownObj.manufacturers" bindLabel="name" bindValue="id"
                          [virtualScroll]="true" [clearSearchOnAdd]="true" [closeOnSelect]="false" [multiple]="true"
                          placeholder="Select Manufacturer" formControlName="manufacturerIds"
                          (search)="searchBtnAction($event,reporterObj.dropdownField.manufacturers)"
                          (change)="setDropdownSelection(reporterObj.dropdownField.manufacturers, $event)" (open)="getAndSetFilterData(reporterObj.dropdownField.manufacturers, 
														reporterObj.dropdownField.manufacturerIds, true)"
                          (add)="addOrRemoveItem($event, reporterObj.dropdownField.manufacturers, 'add')"
                          (remove)="addOrRemoveItem($event, reporterObj.dropdownField.manufacturers, 'remove')" (clear)="addOrRemoveItem($event, reporterObj.dropdownField.manufacturers, 'clear_all', 
														reporterObj.dropdownField.manufacturerIds)">
                          <!-- It hold value on the basis of filter -->
                          <ng-template ng-option-tmp let-item="item" let-item$="item$" let-index="index">
                            <div class="form-row">
                              <div class="col-9 zone-overflow">
                                <input id="item-{{ index }}" type="checkbox"
                                  [checked]="reporterObj?.remove_index_map?.manufacturers[item.id] ? true : false" />&nbsp;
                                <span title="{{ item?.name }}">
                                  {{ item?.name }}
                                </span>
                                <span>{{selectAll(reporterObj.dropdownField.manufacturers, item)}}</span>
                              </div>
                              <div class="col-3">
                                {{ item?.code }}
                              </div>
                            </div>
                          </ng-template>

                          <!-- Add button on top of the select and perform operations -->
                          <!-- <ng-template ng-header-tmp>
                            <div
                              class="form-row align-items-center form-group mb-0"
                            >
                              <div class="col-8"></div>
                              <div class="col-4 text-right">
                                <button
                                  (click)="
                                    addOrRemoveItem(
                                      null,
                                      reporterObj.dropdownField.manufacturers,
                                      reporterObj?.button_text?.manufacturers,
                                      reporterObj.dropdownField.manufacturerIds
                                    )
                                  "
                                  class="btn btn-blue input-btn btn-grey"
                                >
                                  {{ reporterObj?.button_text?.manufacturers }}
                                </button>
                              </div>
                            </div>
                          </ng-template> -->

                          <!-- Add more tag with count -->
                          <ng-template ng-multi-label-tmp let-items="items" let-clear="clear">
                            <div class="ng-value" *ngFor="let item of items | slice: 0:2">
                              <span class="ng-value-label">{{ item.name }}</span>
                              <span class="ng-value-icon right" (click)="clear(item)" aria-hidden="true">×</span>
                            </div>
                            <div class="ng-value" *ngIf="items.length > 2">
                              <span class="ng-value-label">{{ items.length - 2 }} more...</span>
                            </div>
                          </ng-template>
                          </ng-select>
                        </div>
                      </div>

                      <div class="form-group form-row" *ngIf="false">
                        <label class="label col-md-3 mb-0">Members</label>
                        <div class="col-md-9 mb-0">
                          <ng-select [items]="dropdownObj.members" bindLabel="memB_NAME" bindValue="memB_NUMBER"
                          [virtualScroll]="false" [clearSearchOnAdd]="true" [closeOnSelect]="false" [multiple]="true"
                          placeholder="Select Member" formControlName="memberIds"
                          (change)="setDropdownSelection(reporterObj.dropdownField.members, $event)" (open)="getAndSetFilterData(reporterObj.dropdownField.members, 
														reporterObj.dropdownField.memberIds, true)"
                          (add)="addOrRemoveItem($event, reporterObj.dropdownField.members, 'add')"
                          (remove)="addOrRemoveItem($event, reporterObj.dropdownField.members, 'remove')" (clear)="addOrRemoveItem($event, reporterObj.dropdownField.members, 'clear_all', 
														reporterObj.dropdownField.memberIds)"
                          (search)="searchBtnAction($event, reporterObj.dropdownField.members)">
                          <ng-template ng-option-tmp let-item="item" let-item$="item$" let-index="index">
                            <div class="form-row">
                              <div class="col-12 zone-overflow">
                                <div class="form-row align-items-center">
                                  <input id="item-{{ index }}" type="checkbox"
                                    [checked]="reporterObj?.remove_index_map?.members[item.memB_NUMBER] ? true : false" />
                                  <ng-container *ngIf="item?.memB_NAME">
                                    <span class="col title-text px-15" title="{{ item?.memB_NAME }}">
                                      {{ item?.memB_NAME }}
                                    </span>
                                  </ng-container>
                                  <span class="col px-15 pr-50" [ngClass]="item?.memB_NAME ? 'text-right' : ''"
                                    title="{{ item?.memB_NUMBER }}">
                                    {{ item?.memB_NUMBER }}
                                  </span>
                                  <span>{{selectAll(reporterObj.dropdownField.members, item)}}</span>
                                </div>
                              </div>
                            </div>
                          </ng-template>

                          <!-- Add button on top of the select and perform operations -->
                          <!-- <ng-template ng-header-tmp>
                            <div
                              class="form-row align-items-center form-group mb-0"
                            >
                              <div class="col-8"></div>
                              <div class="col-4 text-right">
                                <button
                                  (click)="
                                    addOrRemoveItem(
                                      null,
                                      reporterObj.dropdownField.members,
                                      reporterObj?.button_text?.members,
                                      reporterObj.dropdownField.memberIds
                                    )
                                  "
                                  class="btn btn-blue input-btn btn-grey"
                                >
                                  {{ reporterObj?.button_text?.members }}
                                </button>
                              </div>
                            </div>
                          </ng-template> -->

                          <ng-template ng-multi-label-tmp let-items="items" let-clear="clear">
                            <div class="ng-value" *ngFor="let item of items | slice: 0:2">
                              <span class="ng-value-label">{{item?.memB_NUMBER}}</span>
                              <span class="ng-value-icon right" (click)="clear(item)" aria-hidden="true">×</span>
                            </div>
                            <div class="ng-value" *ngIf="items.length > 2">
                              <span class="ng-value-label">{{ items.length - 2 }} more...</span>
                            </div>
                          </ng-template>

                        </ng-select>
                        </div>
                      </div>  
                    </div>
                  </div>
                </div>

                <!-- All Selections -->
                <div class="group-from">
                  <h5 class="title">Selections</h5>
                  <div class="Day_list">
                    <ng-container *ngIf="filterSetting?.startDate && filterSetting?.endDate">
                      <div *ngIf="f?.startDate?.value">
                        <h4>Date Range</h4>
                        <ul>
                          <li>
                            {{ f?.startDate?.value | customdatetimeformat }} to
                            {{ f?.endDate?.value | customdatetimeformat }}
                          </li>
                        </ul>
                      </div>
                    </ng-container>
                    <ng-container *ngIf="filterSetting?.orderInvoiceStartDate && filterSetting?.orderInvoiceEndDate">
                      <div *ngIf="f?.orderInvoiceStartDate?.value">
                        <h4>Invoice Date Range</h4>
                        <ul>
                          <li>
                            {{ f?.orderInvoiceStartDate?.value | customdatetimeformat }} to
                            {{ f?.orderInvoiceEndDate?.value | customdatetimeformat }}
                          </li>
                        </ul>
                      </div>
                    </ng-container>

                    <div class="mt-1" *ngIf="f?.isPromoSale?.value">
                      <h4>Promotion</h4>
                      <ul>
                        <li>Only Promo Sales = {{f?.isPromoSale?.value ? 'Yes' : 'No'}}</li>
                      </ul>
                    </div>
                    <div class="mt-1" *ngIf="f?.productStartId?.value || f?.productEndId?.value">
                      <h4>Product Range</h4>
                      <ul>
                        <li>
                          {{ f?.productStartId?.value }} to
                          {{ f?.productEndId?.value }}
                        </li>
                      </ul>
                    </div>

                    <!-- <ng-container *ngIf="filterSetting?.shrinkageOption"> -->
                      <div class="mt-1" *ngIf="shrinkageObj?.variance || shrinkageObj?.wastage || shrinkageObj?.merge || f?.newData?.value.variance || f?.newData?.value.variance || f?.newData?.value.wastage">
                        <h4>Shrinkage Filters</h4>
                        <ul>
                          <li>{{(shrinkageObj?.variance || f?.newData?.value.variance)? 'Variance' : null }}</li>
                          <li>{{(shrinkageObj?.wastage || f?.newData?.value.wastage) ? 'Wastage' : null }}</li>
                          <li>{{(shrinkageObj?.merge  || f?.newData?.value.merge) ? 'Merge' : null }}</li>
                        </ul>
                      </div>
                    <!-- </ng-container> -->

                    <ng-container *ngIf="filterSetting?.isMember">
                      <div class="mt-1" *ngIf="f?.isMember?.value">
                        <h4>Members</h4>
                        <ul>
                          <li>Only Member Sales = {{ f?.isMember?.value ? 'Yes' : null }}</li>
                        </ul>
                      </div>
                    </ng-container>

                    <div class="mt-1" *ngIf="summaryOptionType">
                      <h4>Summary Report Options</h4>
                      <ul>
                        <li>{{ summaryOptionType.split('=')[0] | uppercase }}</li>
                      </ul>
                    </div>

                    <ng-container *ngIf="filterSetting?.sortOption">
                      <div class="mt-1" *ngIf="sortOrderType">
                        <h4>Sort Order</h4>
                        <ul>
                          <li>{{ sortOrderType.split('=')[0] | uppercase }}</li>
                        </ul>
                      </div>
                    </ng-container>

                    <div class="mt-1" *ngIf="f?.promoCode?.value">
                      <h4>Promo Code</h4>
                      <ul>
                        <li>
                          Only Items in Promo Code = {{ f?.promoCode?.value }}
                        </li>
                      </ul>
                    </div>

                    <div class="mt-1" *ngIf="selectedValues.stores">
                      <h4>Outlets</h4>
                      <ul>
                        <ng-container
                          *ngIf="(dropdownObj.stores?.length !== selectedValues?.stores?.length); else allStoSelected">
                          <li *ngFor="let store of selectedValues.stores">
                            {{ store.storeDetail }}
                          </li>
                        </ng-container>
                        <ng-template #allStoSelected>
                          <li>All Values Has Been Selected</li>
                        </ng-template>
                      </ul>
                    </div>

                    <div class="mt-1" *ngIf="selectedValues.zones">
                      <h4>Zones</h4>
                      <ul>
                        <ng-container
                          *ngIf="(dropdownObj.zones?.length !== selectedValues?.zones?.length); else allZoneSelected">
                          <li *ngFor="let zone of selectedValues.zones">
                            {{ zone.name }} &nbsp;&nbsp;&nbsp; {{ zone.code }}
                          </li>
                        </ng-container>
                        <ng-template #allZoneSelected>
                          <li>All Values Has Been Selected</li>
                        </ng-template>
                      </ul>
                    </div>

                    <div class="mt-1" *ngIf="selectedValues.days">
                      <h4>Days</h4>
                      <ul>
                        <ng-container
                          *ngIf="(dropdownObj.days?.length !== selectedValues?.days?.length); else allDaysSelected">
                          <li *ngFor="let week of selectedValues.days">
                            {{ week.name }}
                          </li>
                        </ng-container>
                        <ng-template #allDaysSelected>
                          <li>All Values Has Been Selected</li>
                        </ng-template>
                      </ul>
                    </div>

                    <div class="mt-1" *ngIf="selectedValues.departments">
                      <h4>Departments</h4>
                      <ul>
                        <ng-container
                          *ngIf="(dropdownObj.departments?.length !== selectedValues?.departments?.length); else allDeptSelected">
                          <li *ngFor="let deprt of selectedValues.departments">
                            <!-- {{ deprt.desc }} -->
                            {{ deprt.desc }} &nbsp;&nbsp;&nbsp; {{ deprt.code }}
                          </li>
                        </ng-container>
                        <ng-template #allDeptSelected>
                          <li>All Values Has Been Selected</li>
                        </ng-template>
                      </ul>
                    </div>

                    <div class="mt-1" *ngIf="selectedValues.commodities">
                      <h4>Commodities</h4>
                      <ul>
                        <ng-container
                          *ngIf="(dropdownObj.commodities?.length !== selectedValues?.commodities?.length); else allCommSelected">
                          <li *ngFor="let commodity of selectedValues.commodities">
                            <!-- {{ commodity.desc }} -->
                            {{ commodity.desc }} &nbsp;&nbsp;&nbsp; {{ commodity.code }}
                          </li>
                        </ng-container>
                        <ng-template #allCommSelected>
                          <li>All Values Has Been Selected</li>
                        </ng-template>
                      </ul>
                    </div>

                    <div class="mt-1" *ngIf="selectedValues.categories">
                      <h4>Categories</h4>
                      <ul>
                        <ng-container
                          *ngIf="(dropdownObj.categories?.length !== selectedValues?.categories?.length); else allCateSelected">
                          <li *ngFor="let category of selectedValues.categories">
                            <!-- {{ category.name }} -->
                            {{ category.name }} &nbsp;&nbsp;&nbsp; {{ category.code }}
                          </li>
                        </ng-container>
                        <ng-template #allCateSelected>
                          <li>All Values Has Been Selected</li>
                        </ng-template>
                      </ul>
                    </div>

                    <div class="mt-1" *ngIf="selectedValues.groups">
                      <h4>Groups</h4>
                      <ul>
                        <ng-container
                          *ngIf="(dropdownObj.groups?.length !== selectedValues?.groups?.length); else allGrpSelected">
                          <li *ngFor="let group of selectedValues.groups">
                            <!-- {{ group.name }} -->
                            {{ group.name }} &nbsp;&nbsp;&nbsp; {{ group.code }}
                          </li>
                        </ng-container>
                        <ng-template #allGrpSelected>
                          <li>All Values Has Been Selected</li>
                        </ng-template>
                      </ul>
                    </div>

                    <div class="mt-1" *ngIf="selectedValues.suppliers">
                      <h4>Suppliers</h4>
                      <ul>
                        <ng-container
                          *ngIf="(dropdownObj.suppliers?.length !== selectedValues?.suppliers?.length); else allSuppSelected">
                          <li *ngFor="let supplier of selectedValues.suppliers">
                            <!-- {{ supplier.desc }} -->
                            {{ supplier.desc }} &nbsp;&nbsp;&nbsp; {{ supplier.code }}
                          </li>
                        </ng-container>
                        <ng-template #allSuppSelected>
                          <li>All Values Has Been Selected</li>
                        </ng-template>
                      </ul>
                    </div>

                    <div class="mt-1" *ngIf="selectedValues.manufacturers">
                      <h4>Manufacturer</h4>
                      <ul>
                        <li *ngFor="let manuf of selectedValues.manufacturers">
                          <!-- {{ manuf.name }} -->
                          {{ manuf.name }} &nbsp;&nbsp;&nbsp; {{ manuf.code }}
                        </li>
                      </ul>
                    </div>

                    <ng-container *ngIf="filterSetting?.nilTransactionInterval">
                      <div class="mt-1" *ngIf="f?.nilTransactionInterval?.value">
                        <h4>Nil Transaction Interval</h4>
                        <ul>
                          <li>Interval: {{f?.nilTransactionInterval?.value}}</li>
                        </ul>
                      </div>
                    </ng-container>

                    <div class="mt-1" *ngIf="selectedValues.members">
                      <h4>Member</h4>
                      <ul>
                        <li *ngFor="let memf of selectedValues.members">
                          <ng-container *ngIf="memf?.memB_NAME">
                            {{ memf?.memB_NAME + '    ' + memf.memB_NUMBER }}
                          </ng-container>
                          <ng-container *ngIf="!memf?.memB_NAME">
                            {{ memf.memB_NUMBER }}
                          </ng-container>
                        </li>
                      </ul>
                    </div>
                    <ng-container *ngIf="filterSetting?.cashierId">
                      <div class="mt-1" *ngIf="selectedValues.cashiers">
                        <h4>Cashier</h4>
                        <ul>
                          <ng-container
                            *ngIf="(dropdownObj.cashiers?.length !== selectedValues?.cashiers?.length); else allCashSelected">
                            <li>
                              {{ selectedValues.cashiers }}
                            </li>
                          </ng-container>
                          <ng-template #allCashSelected>
                            <li>All Values Has Been Selected</li>
                          </ng-template>
                        </ul>
                      </div>
                    </ng-container>
                    <div class="mt-1" *ngIf="selectedValues.tills">
                      <h4>Till</h4>
                      <ul>
                        <li>
                          {{ selectedValues.tills }}
                        </li>
                      </ul>
                    </div>
                  </div>
                </div>

              
              </div>

              <div class="col-12">
                <div class="btn-wrap text-right mt-10">
                  <!-- <ng-container *ngIf=" salesReportCode != 'stockPurchase'"> -->
                    <button type="button" class="btn btn-grey mr-2" (click)="schedularFilter()">
                      <i class="fa fa-clock-o"></i> Schedule
                    </button>
                  <!-- </ng-container> -->
                
                  <a class="btn btn-grey mr-2" (click)="resetForm()">Clear Selections</a>
                  <button class="btn btn-blue mr-2" (click)="getSalesReport()">Ok</button>
                  <a class="btn btn-grey" data-dismiss="modal" (click)="isCancelApi()">Cancel</a>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </form>
</div>

<!-- Modal -->
<div class="modal fade bd-example-modal-md thm-popup" id="PageSettings" tabindex="-1" role="dialog"
  aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered modal-md" role="document">
    <div class="modal-content">
      <div class="modal-body popup-box-width">
        <div class="popup-box">
          <form>
            <div class="title-wrap">
              <h4 class="title">Page Settings</h4>
            </div>
            <div class="group-from">
              <h5 class="title">Size</h5>
              <div class="form-group form-row align-items-center">
                <div class="col-12">
                  <select name="" id="" class="form-control">
                    <option>Custom</option>
                    <option>Default</option>
                  </select>
                </div>
              </div>
              <div class="form-group form-row align-items-center">
                <div class="col-2">
                  <label for="" class="mb-0">Width</label>
                </div>
                <div class="col-3">
                  <input type="text" class="form-control" />
                </div>
                <div class="col-2">
                  <label for="" class="mb-0">cm</label>
                </div>
              </div>
              <div class="form-group mb-0 form-row align-items-center">
                <div class="col-2">
                  <label for="" class="mb-0">Height</label>
                </div>
                <div class="col-3">
                  <input type="text" class="form-control" />
                </div>
                <div class="col-2">
                  <label for="" class="mb-0">cm</label>
                </div>
              </div>
            </div>
            <div class="group-from">
              <h5 class="title">Orientation</h5>
              <div class="form-group mb-0 form-row align-items-center">
                <div class="col-6">
                  <div class="custom-control custom-radio">
                    <input type="radio" class="custom-control-input" id="Portrait" name="Orientation" />
                    <label class="custom-control-label" for="Portrait"><span
                        class="label-mt-2 d-block">Portrait</span></label>
                  </div>
                  <div class="custom-control custom-radio">
                    <input type="radio" class="custom-control-input" id="Control01" name="Orientation" />
                    <label class="custom-control-label" for="Control01"><span
                        class="label-mt-2 d-block">Landscape</span></label>
                  </div>
                </div>
                <div class="col-6">
                  <img src="assets/images/a-img.png" alt="" />
                </div>
              </div>
            </div>
            <div class="group-from">
              <h5 class="title">Margins</h5>
              <div class="form-group mb-0 form-row align-items-center">
                <div class="col-6">
                  <div class="form-group form-row align-items-center">
                    <div class="col-2">
                      <label for="" class="mb-0">Left</label>
                    </div>
                    <div class="col-3">
                      <input type="text" class="form-control" />
                    </div>
                    <div class="col-2">
                      <label for="" class="mb-0">cm</label>
                    </div>
                  </div>
                  <div class="form-group mb-0 form-row align-items-center">
                    <div class="col-2">
                      <label for="" class="mb-0">Top</label>
                    </div>
                    <div class="col-3">
                      <input type="text" class="form-control" />
                    </div>
                    <div class="col-2">
                      <label for="" class="mb-0">cm</label>
                    </div>
                  </div>
                </div>
                <div class="col-6">
                  <div class="form-group form-row align-items-center">
                    <div class="col-3">
                      <label for="" class="mb-0">Right</label>
                    </div>
                    <div class="col-3">
                      <input type="text" class="form-control" />
                    </div>
                    <div class="col-2">
                      <label for="" class="mb-0">cm</label>
                    </div>
                  </div>
                  <div class="form-group mb-0 form-row align-items-center">
                    <div class="col-3">
                      <label for="" class="mb-0">Bottom</label>
                    </div>
                    <div class="col-3">
                      <input type="text" class="form-control" />
                    </div>
                    <div class="col-2">
                      <label for="" class="mb-0">cm</label>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="group-from mb-0">
              <h5 class="title">Other</h5>
              <div class="form-group mb-0 form-row align-items-center">
                <div class="col-12">
                  <div class="custom-control custom-radio">
                    <input type="radio" class="custom-control-input" id="Apply" name="Other" />
                    <label class="custom-control-label" for="Apply"><span class="label-mt-2 d-block">Apply to the
                        current page</span></label>
                  </div>
                  <div class="custom-control custom-radio">
                    <input type="radio" class="custom-control-input" id="pages" name="Other" />
                    <label class="custom-control-label" for="pages"><span class="label-mt-2 d-block">Apply to all
                        pages</span></label>
                  </div>
                </div>
              </div>
            </div>
            <div class="btn-wrap text-right mt-10">
              <button type="button" class="btn btn-blue mr-2">Ok</button>
              <button type="button" class="btn btn-grey" data-dismiss="modal">
                Cancel
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>

<!---scheduler section-->

<div class="modal fade thm-popup" id="schedularFilter" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
  aria-hidden="true" data-backdrop="static">
  <div class="modal-dialog modal-dialog-centered dialog-w2" role="document">
    <div class="modal-content">
      <div class="modal-body popup-box-width border-popup">
        <div class="popup-box">
          <form name="searchForm2" id="searchForm2">
            <div class="title-wrap mb-2">
              <h4 class="title">Filter Name</h4>
            </div>
            <div class="group-from mb-0 mx-2">
              <div class="form-group">
                <input id="sales_report" type="text" class="form-control col-md-10" placeholder="Report Name"
                  #searchValue />
              </div>

            </div>
            <div class="btn-wrap text-right mt-10">
              <button class="btn btn-blue mr-2" (click)="schedularReport()">Ok</button>
              <button class="btn btn-grey" data-dismiss="modal">Cancel</button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="modal fade bd-example-modal-lg thm-popup" id="newSch" tabindex="-1" role="dialog"
  aria-labelledby="reportFilterModalLabel" aria-hidden="true" data-backdrop="static">
  <form [formGroup]="reportScheduleForm ">
    <div class="modal-dialog modal-dialog-centered modal-lg border-popup" role="document">
      <div class="modal-content">
        <div class="modal-body popup-box-width">
          <div class="popup-box">
            <div class="form-row align-items-center">
              <div class="col-12">
                <div class="title-wrap mb-0">
                  <h4 class="title">New Schedule</h4>
                </div>
              </div>
              <!-- Nav tabs -->
              <ul class="nav nav-tabs col-md-12 flag-nav">
                <li class="nav-item">
                  <a class="nav-link active" data-toggle="tab" href="#home">Details</a>
                </li>
                <!-- <li class="nav-item">
                 <a class="nav-link" data-toggle="tab" href="#menu1">Flags</a>
                 </li> -->
              </ul>
              <!-- Tab panes -->
              <div class="tab-content col-md-12 p-0 flag-content">
                <div class="tab-pane active" id="home">
                  <!-- Added click event to close promotion dropdown forcefully -->
                  <div class="col-lg-12 col-xl-12">
                    <!-- General Field Filter -->
                    <div class="form-row align-items-center">
                      <div class="col-md-6">
                        <div class="group-from">
                          <h5 class="title">Reports</h5>
                          <div class="form-row form-group align-items-center">
                            <div class="col-12">
                              <input type="text" class="form-control" formControlName="reportName" readonly />
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="col-md-6">
                        <div class="group-from">
                          <h5 class="title">Filters</h5>
                          <div class="form-row form-group align-items-center">
                            <div class="col-12">
                              <input type="text" class="form-control" formControlName="description" readonly />
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                    <!-- Filter Date Range -->
                    <div class="form-row align-items-center">
                      <div class="col-md-6">
                        <div class="group-from">
                          <h5 class="title">
                            Filter Date Range
                          </h5>
                          <div class="form-row form-group align-items-center mb-0">
                            <div class="col-12">
                              <div class="form-row align-items-center">
                                <div class="col-5">
                                  <div class="form-group mb-0">
                                    <div class="ctm-calendar">
                                      <input #startDatesch type="text" class="form-control" bsDatepicker
                                        [bsConfig]="{ showWeekNumbers: false }" [maxDate]="maxDate"
                                        [ngClass]="{'is-invalid': submitted && f.startDate.errors}"
                                        (bsValueChange)="onShDateChange($event, 'startDate');scheduleDateChange($event, startDatesch.value);"
                                        [bsValue]="shStartDateBsValue" readonly />
                                      <div *ngIf="f_schedule.startDate?.errors" class="invalid-feedback">
                                        <div *ngIf="f_schedule.startDate?.errors.required">
                                          Start date is required
                                        </div>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                                <div class="col-2">
                                  <div class="form-group mb-0 text-center">
                                    <label for class="mb-0">To</label>
                                  </div>
                                </div>
                                <div class="col-5">
                                  <div class="form-group mb-0">
                                    <div class="ctm-calendar">
                                      <input #toDateSch type="text" class="form-control" bsDatepicker
                                        [bsConfig]="{ showWeekNumbers: false }" [maxDate]="maxDate"
                                        [ngClass]="{'is-invalid': isReportScheduleFormSubmitted && f.endDate.errors }"
                                        (bsValueChange)="onShDateChange($event, 'endDate');scheduleDateChange(toDateSch.value,$event);"
                                        [bsValue]="shEndDateBsValue" readonly />
                                      <div *ngIf="f_schedule.endDate?.errors" class="invalid-feedback">
                                        <div *ngIf="f_schedule.endDate?.errors.required">
                                          End date is required
                                        </div>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <div class="col-5">
                              <div *ngIf="false" class="custom-control custom-checkbox">
                                <input formControlName="roleOnCompletion" type="checkbox" class="custom-control-input"
                                  id="Sales" />
                                <label class="custom-control-label mb-0" for="Sales">Roll of open complition</label>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="col-md-6">
                        <div class="group-from">
                          <h5 class="title">
                            Intervel
                          </h5>
                          <div class="form-row form-group align-items-center mb-0">
                            <div class="col-12">
                              <div class="form-row align-items-center">
                                <div class="col-md-4">
                                  <div class="form-row align-items-center pt-2">
                                    <div class="col-md-4">
                                      <label>Every</label>
                                    </div>
                                    <div class="col-md-8">
                                      <input type="number" name="intervalBracket" [ngClass]="{
                                        'is-invalid':
                                        isReportScheduleFormSubmitted && f_schedule.intervalBracket.errors
                                        }" formControlName="intervalBracket" class="form-control">
                                      <div *ngIf="isReportScheduleFormSubmitted && f_schedule.intervalBracket.errors"
                                        class="invalid-feedback">
                                        <div *ngIf="f_schedule.intervalBracket.errors.required">
                                          required
                                        </div>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                                <div class="col-md-8">
                                  <div class="group-from my-0">
                                    <div class="d-flex flex-wrap form-group mb-0">
                                      <div class="custom-control custom-radio mr-2"><input type="radio" name="interval"
                                          class="custom-control-input" formControlName="interval" id="months"
                                          value="1"><label for="months" class="custom-control-label mb-0" for="months">
                                          Months </label>
                                      </div>
                                      <div class="custom-control custom-radio mr-2"><input type="radio" name="interval"
                                          class="custom-control-input" formControlName="interval" id="weeks"
                                          value="2"><label class="custom-control-label mb-0" for="weeks">Weeks </label>
                                      </div>
                                      <div class="custom-control custom-radio mr-2" [ngClass]="{
                                          'is-invalid':
                                          isReportScheduleFormSubmitted && f_schedule.interval.errors
                                          }"><input type="radio" name="interval" class="custom-control-input"
                                          formControlName="interval" id="days" value="3"><label
                                          class="custom-control-label mb-0" for="days"> Days </label>
                                      </div>
                                      <div *ngIf="isReportScheduleFormSubmitted && f_schedule.interval.errors"
                                        class="invalid-feedback">
                                        <div *ngIf="f_schedule.interval.errors.required">
                                          required
                                        </div>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="form-row form-group align-items-center">
                      <div class="col-md-6">
                        <div class="group-from">
                          <h5 class="title">Schedule Group</h5>
                          <div class="form-row form-group align-items-center">
                            <div class="col-10">
                              <select formControlName="groupIds" disabled class="form-control"
                                placeholder='Schedule Group'>
                                <option value="">select</option>
                                <option *ngFor="let item of dropdownObj.stores">
                                  {{ item.storeDetail }}
                                </option>
                              </select>
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="col-6">
                        <div class="group-from">
                          <h5 class="title">Destination email </h5>
                          <div class="form-row form-group align-items-center">
                            <div class="col-12">
                              <ng-select [clearSearchOnAdd]="true" [items]="dropdownObj.users" bindLabel="email"
                                bindValue="id" [clearSearchOnAdd]="true" [closeOnSelect]="false" [virtualScroll]="false"
                                [multiple]="true" placeholder="Destination email" formControlName="userIds" (change)="
                                setDropdownSelection(
                                  reporterObj.dropdownField.users,
                                  $event
                                )
                              " (open)="
                              getAndSetFilterData(
                                  reporterObj.dropdownField.users,
                                  reporterObj.dropdownField.userIds,
                                  true
                                )
                              " (remove)="
                                addOrRemoveItem(
                                  $event,
                                  reporterObj.dropdownField.users,
                                  'remove'
                                )
                              " (clear)="
                                addOrRemoveItem(
                                  $event,
                                  reporterObj.dropdownField.users,
                                  'clear_all',
                                  reporterObj.dropdownField.userIds
                                )
                              " (add)="
                                addOrRemoveItem(
                                  $event,
                                  reporterObj.dropdownField.users,
                                  'add'
                                )
                              ">
                                <!-- It hold value on the basis of filter -->
                                <ng-template ng-option-tmp let-item="item" let-item$="item$" let-index="index">
                                  <div class="form-row">
                                    <div class="col-12 zone-overflow">
                                      <input id="item-{{ index }}" type="checkbox" [checked]="
                                    reporterObj?.remove_index_user?.users[item.id]
                                      ? true
                                      : false
                                  " />&nbsp;
                                      <span title="{{ item?.firstName }}, {{ item?.lastName }}, {{ item?.email }}">
                                        {{ item.firstName }}, {{ item.lastName }}, {{ item.email }}
                                      </span>
                                    </div>
                                  </div>
                                </ng-template>

                                <!-- Add more tag with count -->
                                <ng-template ng-multi-label-tmp let-items="items" let-clear="clear">
                                  <div class="ng-value" *ngFor="let item of items | slice: 0:2">
                                    <span class="ng-value-label">{{ item.email }}</span>
                                    <span class="ng-value-icon right" (click)="clear(item)" aria-hidden="true">×</span>
                                  </div>
                                  <div class="ng-value" *ngIf="items.length > 2">
                                    <span class="ng-value-label">{{ items.length - 2 }} more...</span>
                                  </div>
                                </ng-template>
                              </ng-select>
                              <div *ngIf="isReportScheduleFormSubmitted && f_schedule.userIds.errors"
                                class="invalid-feedback">
                                <div *ngIf="f_schedule.userIds.errors.required">
                                  Destination email is required
                                </div>
                              </div>
                            </div>
                            <!-- <div class="col-2 <button class="btn blue browse-btn">New..</button></div> -->
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="form-row form-group align-items-center">
                      <div class="col-md-6">
                        <div class="group-from">
                          <h5 class="title">Export Format</h5>
                          <div class="form-row form-group align-items-center">
                            <div class="col-4">
                              <div class="custom-control custom-checkbox">
                                <input formControlName="excelExport" type="checkbox" class="custom-control-input"
                                  id="Excel" />
                                <label class="custom-control-label mb-0" for="Excel">Excel</label>
                              </div>
                            </div>
                            <div class="col-4">
                              <div class="custom-control custom-checkbox">
                                <input formControlName="pdfExport" type="checkbox" class="custom-control-input"
                                  id="PDF" />
                                <label class="custom-control-label mb-0" for="PDF">PDF</label>
                              </div>
                            </div>

                            <div
                              *ngIf="isReportScheduleFormSubmitted && (f_schedule.pdfExport.errors || f_schedule.excelExport.errors || f_schedule.csvExport.errors)"
                              class="invalid-feedback">
                              <div *ngIf="f_schedule.exportFormat.errors.required">
                                Export Format is required
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="col-md-6">
                        <div class="group-from">
                          <h5 class="title">Last Run</h5>
                          <div class="form-row form-group align-items-center">
                            <div class="col-10">
                              <input onkeydown="return false" type="text" class="form-control" [disabled]="true"
                                formControlName="lastRun" placeholder="Never" readonly />
                              <!-- (bsValueChange)="specDateChange($event, last_run.value)" -->
                            </div>
                            <!-- <div class="col-2"><button class="btn blue browse-btn" disabled>Reset</button></div> -->
                          </div>
                        </div>
                      </div>
                    </div>
                    <!-- 123 -->
                    <div class="form-row form-group align-items-center">
                      <div class="group-from col-md-6">
                        <h5 class="title">
                          Inception
                        </h5>
                        <div class="form-row form-group align-items-center mb-0">
                          <div class="col-12">
                            <div class="row align-items-center">
                              <div class="col-5  mt-27">
                                <div class="form-group mb-0">
                                  <div class="ctm-calendar">
                                    <!-- [maxDate]="maxDate" -->
                                    <input #inceptionDate type="text" class="form-control"
                                      formControlName="inceptionDate" bsDatepicker [minDate]="maxDate"
                                      [bsConfig]="{ showWeekNumbers: false ,adaptivePosition: true }"
                                      [ngClass]="{'is-invalid': isReportScheduleFormSubmitted && f_schedule.startDate.errors}"
                                      readonly />
                                    <!-- (bsValueChange)=" specDateChange($event, inceptionDate.value) " -->
                                    <div *ngIf="f_schedule.startDate.errors" class="invalid-feedback">
                                      <div *ngIf="f_schedule.startDate.errors.required">
                                        Inception is required
                                      </div>
                                    </div>
                                  </div>
                                </div>
                              </div>
                              <div class="col-7">
                                <div class="form-group mb-0">
                                  <div class="ctm-timepicker">
                                    <timepicker class="form-timepicker" formControlName="inceptionTime" #dateTimeSch>
                                    </timepicker>
                                    <div *ngIf="f_schedule.endDate.errors" class="invalid-feedback">
                                      <div *ngIf="f_schedule.endDate.errors.required">
                                        End date is required
                                      </div>
                                    </div>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="col-md-6 text-right  mt-5">
                        <div class="custom-control custom-checkbox sd-checkbox-active">
                          <input formControlName="isFlags" class="custom-control-input" type="checkbox" id="isFlags"
                            checked>
                          <!-- checked disabled -->
                          <label for="isFlags" class="custom-control-label mb-0">
                            <h6 class="mb-0">Active</h6>
                          </label>
                        </div>
                        <!-- <button class="btn btn-blue">Flags</button> -->
                      </div>
                    </div>
                  </div>
                </div>
                <div class="tab-pane" id="menu1">1234</div>
              </div>
            </div>
          </div>
          <div class="col-12 p-0">
            <div class="btn-wrap text-right mt-10">
              <button class="btn btn-blue mr-2" (click)="scheduleData()">
                Ok
              </button>
              <a class="btn btn-grey" (click)="resetScheduleform()" data-dismiss="modal">Cancel</a>
            </div>
          </div>
        </div>
      </div>
      <!-- </div> -->
    </div>
    <!-- </div> -->
  </form>
</div>