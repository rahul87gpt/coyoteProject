<div class="mainContent-innner">
    <div class="d-flex align-items-center">
        <h4 class="title flex-grow-1 mb-0">Rebates</h4>
        <div class="probtn-wrap d-flex text-right">                            
            <button type="button" data-toggle="modal" data-target="#RebateItem" class="btn btn-blue mr-2" (click)="clickedAddRebateItems()"><i class="fa fa-plus-circle"></i> Add Rebate Items</button>
            <button type="button" class="btn mr-2"><i class="fa fa-print"></i> Print</button>
            <button type="button" (click)="submitRebateForm()" class="btn mr-2"><i class="fa fa-save"></i> Finish</button>
            <button type="button" class="btn mr-2"><i class="fa fa-cloud-download"></i> Import</button>
            <button type="button" class="btn" [routerLink]="['/rebates']" >Cancel</button>
        </div>
    </div>
  <form [formGroup]="rebateForm" >
    <div class="bg-box mt-15">
        <div class="form-row">
            <div class="col-lg-6">
                <div class="group-from">
                    <h5 class="title">Rebate Header</h5>
                    <div class="form-group form-row align-items-center">                                
                       <div class="col-3">
                        <label for="" class="mb-0">Rebate Code<span class="text-danger">*</span></label>
                       </div>
                       <div class="col-9">                                           
                            <input type="text" appUppercase formControlName="code" maxlength="30" class="form-control" [ngClass]="{ 'is-invalid': submitted && f.code.errors }">
                            <div *ngIf="f.code.errors" class="invalid-feedback">
                                <div *ngIf="f.code.errors.required">Rebate Code is required</div>
                            </div>
                        </div>
                    </div>
                    <div class="form-group form-row align-items-center">                                
                        <div class="col-3">
                         <label for="" class="mb-0">Description<span class="text-danger">*</span></label>
                        </div>
                        <div class="col-9">
                            <input type="text" formControlName="description" maxlength="50" class="form-control" [ngClass]="{ 'is-invalid': submitted && f.description.errors }">
                            <div *ngIf="f.description.errors" class="invalid-feedback">
                                <div *ngIf="f.description.errors.required">Description is required</div>
                            </div>
                        </div>
                    </div>
                    <div class="form-group form-row align-items-center">                                
                        <div class="col-3">
                         <label for="" class="mb-0">Rebate Type<span class="text-danger">*</span></label>
                        </div>
                        <div class="col-9 rebate-form">
                         <ng-select
                            [items]="rebateType"
                            bindLabel="description"
                            bindValue="id"
                            formControlName="type"
                            [virtualScroll]="false"
                            [clearable]="false"
                            [clearOnBackspace]="false"
                            [searchable]="true"
                            [multiple]="false"
                            [ngClass]="{ 'is-invalid': submitted && f.type.errors }"
                          >
                          <ng-template
                           ng-option-tmp
                           let-item="item"
                           let-item$="item$"
                           let-index="index"
                          >
                         <div class="form-row">
                         <span
                          class="col-10 zone-overflow"
                          title="{{ item.name }}"
                         >
                          {{ item.description }}
                         </span>
                         </div>
                        </ng-template>
                         </ng-select>
                         <!-- <select formControlName="type" class="form-control" [ngClass]="{ 'is-invalid': submitted && f.type.errors }">
                            <option  [value]="type.id" *ngFor="let type of rebateType">{{type.description}}</option>  
                         </select> -->
                         <div *ngIf="f.type.errors" class="invalid-feedback">
                            <div *ngIf="f.type.errors.required">Rebate Type is required</div>
                        </div>
                        </div>
                    </div>
                    <div class="form-group form-row align-items-center">                                
                        <div class="col-3">
                         <label for="" class="mb-0">Manufacturer<span class="text-danger">*</span></label>
                        </div>
                        <div class="col-9 rebate-form">
                            <ng-select
                            [items]="rebatesObj.manufacturer"
                            bindLabel="nameCode"
                            bindValue="id"
                            formControlName="manufacturerId"
                            [virtualScroll]="true"
                            [clearable]="false"
                            [clearOnBackspace]="false"
                            (search)="
                            searchBtnAction(
                              $event,
                              'manufacturer',
                              'MasterListItem/code',
                              'MANUFACTURER'
                            )
                          "
                            [multiple]="false"
                            placeholder="Select Manufacturer"
                            [ngClass]="{ 'is-invalid': submitted && f.manufacturerId.errors }"
                          >
                            <ng-template
                              ng-option-tmp
                              let-item="item"
                              let-item$="item$"
                              let-index="index"
                            >
                            <div class="form-row">
                                <span
                                 class="col-9 zone-overflow"
                                  title="{{ item.name }}"
                                >
                                {{ item.name }}
                               </span>
                                <div class="col-3">
                                    {{item.code}}
                               </div>
                            </div>
                            </ng-template>
                            </ng-select>
                            <!-- <select formControlName="manufacturerId" class="form-control" [ngClass]="{ 'is-invalid': submitted && f.manufacturerId.errors }">
                                <option  [value]="manufacturer.id" *ngFor="let manufacturer of manufactuererData">{{manufacturer.fullName}} &nbsp;&nbsp;&nbsp;&nbsp;({{manufacturer.code}})</option>
                            </select> -->
                            <div *ngIf="f.manufacturerId.errors" class="invalid-feedback">
                                <div *ngIf="f.manufacturerId.errors.required">Manufacturer is required</div>
                            </div>
                        </div>
                    </div>
                    <div class="form-group form-row align-items-center">                                
                        <div class="col-3">
                         <label for="" class="mb-0">Start</label>
                        </div>
                        <div class="col-9">
                            <div class="form-row align-items-center">
                                <div class="col-5">
                                    <div class="form-group mb-0">
                                        <div class="ctm-calendar">
                                            <!-- <input type="text" formControlName="startDate" class="form-control"> -->
                                            <input
                                             onkeydown="return false"
                                             type="text"
                                             class="form-control"
                                             bsDatepicker
                                             [minDate]="minDate"
                                             (bsValueChange)="changeDate($event)"
                                             formControlName="startDate"
                                             [bsConfig]="datepickerConfig"
                                            />
                                        </div>
                                    </div>
                                </div>
                                <div class="col-2">
                                    <div class="form-group mb-0 text-center">
                                        <label for="" class="mb-0">End</label>
                                    </div>
                                </div>
                                <div class="col-5">
                                    <div class="form-group mb-0">
                                        <div class="ctm-calendar">
                                            <input
                                            onkeydown="return false"
                                            type="text"
                                            class="form-control"
                                            bsDatepicker
                                            [minDate]="lastEndDate"
                                            formControlName="endDate"
                                            [bsConfig]="datepickerConfig"
                                           />
                                             <!-- <input
                                             onkeydown="return false"
                                             type="text"
                                             class="form-control"
                                             bsDatepicker
                                             [minDate]="lastEndDate"
                                             formControlName="endDate"
                                             [bsConfig]="datepickerConfig"
                                            /> -->
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="form-group mb-0 form-row align-items-center">                                
                        <div class="col-3">
                         <label for="" class="mb-0">Zone</label>
                        </div>
                        <div class="col-9 rebate-form">
                            <div class="form-row align-items-center">
                                <div class="col-10 ">
                                    <div class="form-group mb-0">
                                            <ng-select
                                              [items]="rebatesObj.zone"
                                              bindLabel="nameCode"
                                              bindValue="id"
                                              formControlName="zoneId"
                                              [virtualScroll]="false"
                                              [clearable]="false"
                                              [clearOnBackspace]="false"
                                              [searchable]="true"
                                              [multiple]="false"
                                              [ngClass]="{ 'is-invalid': submitted && f.manufacturerId.errors }"
                                            >
                                            <ng-template
                                             ng-option-tmp
                                             let-item="item"
                                             let-item$="item$"
                                             let-index="index"
                                            >

                                            <div class="form-row">
                                                <span
                                                 class="col-9 zone-overflow"
                                                  title="{{ item.name }}"
                                                >
                                                {{ item.name }}
                                               </span>
                                                <div class="col-3">
                                                    {{item.code}}
                                               </div>
                                            </div>


                                           <!-- <div class="form-row">
                                           <span
                                            class="col-10 zone-overflow"
                                            title="{{ item.name }}"
                                           >
                                            {{ item.fullName }}&nbsp;&nbsp;&nbsp;&nbsp;({{item.code}})
                                           </span>
                                           </div> -->
                                          </ng-template>
                                            </ng-select>
                                            <!-- <select formControlName="zoneId" class="form-control">
                                              <option  [value]="zone.id" *ngFor="let zone of ZoneData" (change)="changeZone($event)">{{zone.fullName}}&nbsp;&nbsp;&nbsp;&nbsp;({{zone.code}})</option>  
                                            </select> -->
                                    </div>
                                </div>
                                <div class="col-2">
                                    <button #zone type="button" class="btn btn-block input-btn btn-grey" (click)="clearField('zone')" >Clear</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-lg-6">

                
                
                <div class="form-row align-items-end mt-2">
                   <div class="col-md-12">
                       <button [disabled]="f?.zoneId?.value" class="btn btn-blue small-btn float-right" (click)="selectAndDeselectStores('deselect')">Deselect All</button>
                       <button [disabled]="f?.zoneId?.value" class="btn btn-blue small-btn mr-2 float-right" (click)="selectAndDeselectStores('select')">Select All</button>
                   </div>      
               </div>
           
            <div class="group-from">
                <h5 for="" class="title">Outlets:</h5>
                <div class="zoneOutlets-checklist mt-0 p-0">

                   
                    <div class="form-row form-group align-items-center mb-0 v-scroll">
                      
                        <ng-container *ngFor="let store of rebatesObj.store">
                            <div class="col-6 innner-box">
                                <div class="custom-control form-group mb-0 custom-checkbox">
                                    
                                    <!-- Using for selectAll functionality -->
                                    <span *ngIf="!rebatesObj.is_store_ids_exist">{{exitingCheckboxAndHoldStoreIds(store)}}</span>
                                    <input type="checkbox" class="custom-control-input" 
                                        id="{{(store.id || store.storeId)}}"
                                        (click)="selectDeselectStoreIds(store, 'updated', $event.target.checked);"
                                        [checked]="rebatesObj.active_store_obj[(store.id || store.storeId)] ? true : false"
                                        [disabled]="f?.zoneId?.value"
                                    >
                                    <label class="custom-control-label" for="{{(store.id || store.storeId)}}">
                                        <span class="label-mt-2 d-block">
                                            {{(store?.desc || store?.storeName) + ' ' + (store?.code || store?.storeCode)}}
                                        </span>
                                    </label>
                                </div>
                            </div>
                        </ng-container>
                    </div>
              
                </div>
                </div>
            </div>
            <div class="table-responsive">
                <table class="table ctm-table" id="rebate-DetailsList">
                    <thead>
                        <tr>
                            <th>Product</th>
                            <th>Product Description</th>
                            <th>Carton Rebate Amount</th>
                            <th>Action</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr *ngFor="let item of rebate_DetailsList , index as i">
                            <td><a>{{item.number}}</a></td>
                            <td>{{item.productDesc}}</td>
                            <td>${{item.amount | number: '0.3-4' }}</td>
                            <td>
                                <div class="tbHover-btnGroup">
                                    <button class="tbHover-btn trash-btn" data-toggle="modal" data-target="#RebateItem" (click)="getRebateItemById(item, i, item?.id)" ><i class="fa fa-pencil"></i></button>
                                    <button class="tbHover-btn trash-btn" (click)="deleteRebateItem(item)"><i class="fa fa-trash"></i></button>
                                </div>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
  </form>  
</div>

<div class="modal fade thm-popup" id="RebateItem" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true" data-backdrop="static">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-body popup-box-width">
                <div class="popup-box">
                    <form [formGroup]="rebateItemForm" (keydown.enter)="$event.preventDefault()">
                        <div class="title-wrap mb-1">
                            <h4 class="title">Rebate Item</h4>
                        </div>
                        <div class="group-from mb-0">
                            <div class="form-group form-row align-items-center">                                
                                <div class="col-3">
                                 <label for="" class="mb-0">Product</label>
                                </div>
                                <div class="col-9">   
                                    <div class="form-row align-items-center">
                                        <div class="col-4">
                                            <input type="number"  [readonly]="productNumberStatus"  [min]="0"  onkeyup="if(this.value<0){this.value= this.value * -1}"  formControlName="number" (keyup)="enterKeyboardForRebateItemSearch($event)" class="form-control" [ngClass]="{ 'is-invalid': submittedRebateItem && f1.number.errors }">
                                            <div *ngIf="f1.number.errors" class="invalid-feedback">
                                                <div *ngIf="f1.number.errors.required">Product is required</div>
                                            </div>
                                        </div>
                                       
                                            <ng-container *ngIf="!selectedRebateItemProduct_ID">
                                                <div class="col-2">
                                                <button type="button" id="RebateItemSearch" (click)=" searchRebateItem(0)" class="btn btn-grey input-btn btn-block"><i class="fa fa-search"></i></button>
                                                <a
                                                data-toggle="modal"
                                                data-target="#searchProductModal"
                                                class="dn openProductList"
                                              ></a>
                                            </div>
                                            </ng-container>
                                      
                                        <div class="col-6">
                                            <button type="button" #searchProductBtn (click)="productDetails(1)" class="btn btn-blue input-btn btn-block" >Product Details</button>
                                        </div> 
                                    </div>
                                </div>
                            </div>
                            <div class="form-group form-row align-items-center">                                
                                <div class="col-3">
                                 <label for="" class="mb-0">Description</label>
                                </div>
                                <div class="col-9">   
                                    <input type="text" [readonly]="true" formControlName="productDesc" class="form-control" [ngClass]="{ 'is-invalid': submittedRebateItem && f1.productDesc.errors }">
                                    <div *ngIf="f1.productDesc.errors" class="invalid-feedback">
                                        <div *ngIf="f1.productDesc.errors.required">Description is required</div>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group form-row align-items-center">                                
                                <div class="col-3">
                                 <label for="" class="mb-0">Carton Qty</label>
                                </div>
                                <div class="col-9">   
                                    <input type="text" [readonly]="true" formControlName="cartonQty" class="form-control" [ngClass]="{ 'is-invalid': submittedRebateItem && f1.cartonQty.errors }">
                                    <div *ngIf="f1.cartonQty.errors" class="invalid-feedback">
                                      <div *ngIf="f1.cartonQty.errors.required">Carton Qty is required</div>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group mb-0 form-row align-items-center">                                
                                <div class="col-3">
                                 <label for="" class="mb-0">Carton Rebate</label>
                                </div>
                                <div class="col-9">   
                                    <input  type="number" [min]="0"  onkeyup="if(this.value<0){this.value= this.value * -1}" formControlName="amount" class="form-control" [ngClass]="{ 'is-invalid': submittedRebateItem && f1.amount.errors }">
                                    <div *ngIf="f1.amount.errors" class="invalid-feedback">
                                        <div *ngIf="f1.amount.errors.required">Carton Rebate is required</div>
                                      </div>
                                </div>
                            </div>
                        </div>  
                        <div class="btn-wrap text-right mt-10">
                            <button type="submit" class="btn btn-blue mr-2" (click)="addRebateItems()">{{selectedRebateItemProduct_ID ? "Change" : "Add"}}</button>
                            <button  #closebutton type="button" class="btn btn-grey" data-dismiss="modal">Cancel</button>
                        </div>
                    </form>
                </div>                    
            </div>
        </div>
    </div>
  </div>
  <div class="modal fade thm-popup bd-example-modal-xl" id="searchProductModal" tabindex="-1" role="dialog" aria-labelledby="searchProductModal" aria-hidden="true" data-backdrop="static">
    <div class="modal-dialog modal-dialog-centered modal-xl" role="document">
        <div class="modal-content">               
            <div class="modal-body popup-box-width ">
                <div class="popup-box">
                    <form [formGroup]="RebateProductSearchForm">
                     <div class="title-wrap mb-2">
                         <h4 class="title">Product Lookup</h4>
                     </div>
                     <div class="form-row">
                         <div class="col-lg-6 col-xl-6">
                             <div class="form-row align-items-center">
                                 <div class="col-md-2">
                                     <div class="form-group">
                                         <input type="number" [min]="0"  onkeyup="if(this.value<0){this.value= this.value * -1}" placeholder="Number" class="form-control" formControlName="number" (keyup)="productsearchChange('number') ; enterKeyboard($event)"  >        
                                     </div>
                                 </div>
                                 <div class="col-md-4">
                                     <div class="form-group">
                                         <input type="text" placeholder="Description" class="form-control" formControlName="desc" (keyup)="productsearchChange('desc') ; enterKeyboard($event) " >
                                     </div>
                                 </div>
                                 <div class="col-md-3">
                                     <div class="form-group">
                                         <button type="button" id="rebateWildCardSearch" (click)="searchWProductsByWildcard()" class="btn btn-blue input-btn btn-block">Wildcard Search</button>
                                     </div>
                                 </div>
                                 <div class="col-md-3">
                                     <div class="form-group">
                                         <div class="custom-control custom-checkbox">
                                             <input type="checkbox" class="custom-control-input" formControlName="status" id="customControlStatus" [checked]="searchProductByStatus" 
                                             (change)="searchProductByStatus(saveUserNameCheckBox.checked)" #saveUserNameCheckBox >
                                             <label class="custom-control-label mb-0" for="customControlStatus">Only Active</label>
                                         </div>
                                     </div>       
                                 </div>
                             </div>                                        
                         </div>
                         <div class="col-lg-6 col-xl-6">
                             <div class="form-row align-items-center">
                                 <div class="col-md-3">
                                     <div class="form-group">
                                         <button type="button" class="btn btn-blue input-btn btn-block" (click)="productDetails(2)" >Product Details</button>
                                     </div>
                                 </div>
                                 <div class="col-md-9">
                                     <div class="form-group">
                                         <div class="d-flex">
                                             <select class="form-control" formControlName="outletId" (change)="changeOutlet($event)" >
                                                <option [ngValue]="null" disabled selected hidden>Select Outlet</option>
                                                <option [value]="outlet.id" *ngFor="let outlet of rebatesObj.store">{{outlet.desc + " " + outlet.code }}</option>
                                             </select>
                                             <button #outlet type="button" class="btn ml-2 btn-grey input-btn" (click)="clearField('outlet')" >Clear</button>
                                         </div>
                                     </div>
                                 </div>
                             </div>                                        
                             
                         </div>
                     </div>
                     <div class="table-scroll all-w">
                         <div class="table-responsive ctm-data-table">
                             <table class="table ctm-table"  id="Product-DetailsList">
                                 <thead>
                                 <tr>
                                     <th>Select
                                            <i class="ml-1 fa fa-long-arrow-up"></i>
                                            <i class="fa fa-long-arrow-down"></i>
                                     </th>
                                     <th>Status
                                            <i class="ml-1 fa fa-long-arrow-up"></i>
                                            <i class="fa fa-long-arrow-down"></i>
                                     </th>
                                     <th>Number
                                            <i class="ml-1 fa fa-long-arrow-up"></i>
                                            <i class="fa fa-long-arrow-down"></i>
                                     </th>
                                     <th>Description
                                            <i class="ml-1 fa fa-long-arrow-up"></i>
                                            <i class="fa fa-long-arrow-down"></i>
                                     </th>
                                     <th>Comm
                                            <i class="ml-1 fa fa-long-arrow-up"></i>
                                            <i class="fa fa-long-arrow-down"></i>
                                     </th>
                                     <th>Commodity
                                            <i class="ml-1 fa fa-long-arrow-up"></i>
                                            <i class="fa fa-long-arrow-down"></i>
                                     </th>
                                     <th>Dep
                                            <i class="ml-1 fa fa-long-arrow-up"></i>
                                            <i class="fa fa-long-arrow-down"></i>
                                     </th>
                                     <th>Department
                                            <i class="ml-1 fa fa-long-arrow-up"></i>
                                            <i class="fa fa-long-arrow-down"></i>
                                     </th>
                                     <th>Cat
                                            <i class="ml-1 fa fa-long-arrow-up"></i>
                                            <i class="fa fa-long-arrow-down"></i>
                                     </th>
                                     <th>Category
                                            <i class="ml-1 fa fa-long-arrow-up"></i>
                                            <i class="fa fa-long-arrow-down"></i>
                                     </th>
                                     <th>Group
                                            <i class="ml-1 fa fa-long-arrow-up"></i>
                                            <i class="fa fa-long-arrow-down"></i>
                                     </th>
                                     <th>Group
                                            <i class="ml-1 fa fa-long-arrow-up"></i>
                                            <i class="fa fa-long-arrow-down"></i>
                                     </th>
                                     <th>Supp
                                            <i class="ml-1 fa fa-long-arrow-up"></i>
                                            <i class="fa fa-long-arrow-down"></i>
                                     </th>
                                     <th>Supplier
                                            <i class="ml-1 fa fa-long-arrow-up"></i>
                                            <i class="fa fa-long-arrow-down"></i>
                                     </th>
                                     <th>Replicate
                                            <i class="ml-1 fa fa-long-arrow-up"></i>
                                            <i class="fa fa-long-arrow-down"></i>
                                     </th>
                                     <th>Type
                                            <i class="ml-1 fa fa-long-arrow-up"></i>
                                            <i class="fa fa-long-arrow-down"></i>
                                     </th>
                                     <th>Tax
                                            <i class="ml-1 fa fa-long-arrow-up"></i>
                                            <i class="fa fa-long-arrow-down"></i>
                                     </th>
                                     <th>Ctn Qty
                                            <i class="ml-1 fa fa-long-arrow-up"></i>
                                            <i class="fa fa-long-arrow-down"></i>
                                     </th>
                                     <th>Sell Unit Qty
                                            <i class="ml-1 fa fa-long-arrow-up"></i>
                                            <i class="fa fa-long-arrow-down"></i>
                                     </th>
                                     <th>Parent
                                            <i class="ml-1 fa fa-long-arrow-up"></i>
                                            <i class="fa fa-long-arrow-down"></i>
                                     </th>
                                     <th>Pos Des
                                            <i class="ml-1 fa fa-long-arrow-up"></i>
                                            <i class="fa fa-long-arrow-down"></i>
                                     </th>
                                     <th>Date Added 
                                            <i class="ml-1 fa fa-long-arrow-up"></i>
                                            <i class="fa fa-long-arrow-down"></i>
                                     </th>
                                     <th>Date Changed
                                            <i class="ml-1 fa fa-long-arrow-up"></i>
                                            <i class="fa fa-long-arrow-down"></i>
                                     </th>
                                     <th>Date Deleted
                                            <i class="ml-1 fa fa-long-arrow-up"></i>
                                            <i class="fa fa-long-arrow-down"></i>
                                     </th>
                                     <th>Info
                                            <i class="ml-1 fa fa-long-arrow-up"></i>
                                            <i class="fa fa-long-arrow-down"></i>
                                     </th>
                                 </tr>
                                 </thead>
                                 <tbody>
                                     <tr *ngFor="let product of searchProducts">     
                                        <td>    
                                          <div class="custom-control custom-radio">
                                            <input type="radio"   name="product" 
                                             (click)="setProductObj(product)"
                                              class="custom-control-input" 
                                              id="product_{{product.id}}"> 
                                            <label class="custom-control-label" for="product_{{product.id}}"></label>
                                           </div>
                                        </td>
                                        <td class="text-center">
                                            <span class="status-check" [ngClass]="{
                                                'status-true': product.status,
                                                'status-false': !product.status
                                              }"></span>
                                        </td>
                                         <td>{{product.number}}</td>
                                         <td>{{product.desc}}</td>
                                         <td>{{product.commodityCode}}</td>                                          
                                         <td>{{product.commodity}}</td>
                                         <td>{{product.departmentCode}}</td>
                                         <td>{{product.department}}</td>
                                         <td>{{product.categoryCode}}</td>
                                         <td>{{product.category}}</td>
                                         <td>{{product.groupCode}}</td>
                                         <td>{{product.group}}</td>
                                         <td>{{product.supplierCode}}</td>
                                         <td>{{product.supplier}}</td>
                                         <td>{{product?.replicate}}</td>
                                         <td>{{product.type}}</td>
                                         <td>{{product.tax}}</td>
                                         <td>{{product.cartonQty}}</td>
                                         <td>{{product.unitQty}}</td>
                                         <td>{{product.parent}}</td>
                                         <td>{{product.posDesc}}</td>
                                         <td>{{product.createdAt | customdatetimeformat }}</td>
                                         <td>{{product.updatedAt | customdatetimeformat}}</td>
                                         <td>{{product.deletedAt | customdatetimeformat}}</td>
                                         <td>{{product.info}}</td>
                                     </tr>
                                 </tbody>
                             </table>
                         </div>
                     </div>
                     <div class="btn-wrap text-right mt-10">          
                         <button  type="button" class="btn btn-blue mr-2" (click)="selectProductForRebateItem()">Select</button>
                         <button type="button" class="btn btn-grey"  data-dismiss="modal" >Close</button>
                     </div>
                    </form>
                </div>                    
            </div>
        </div>
    </div>
</div> 

  <div class="modal fade bd-example-modal-md thm-popup" id="Confirm" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true" data-backdrop="static">
    <div class="modal-dialog modal-dialog-centered modal-md" role="document">
        <div class="modal-content">
            <div class="modal-body popup-box-width">
                <div class="popup-box">
                    <form>
                        <div class="title-wrap mb-1">
                            <h4 class="title">Confirm</h4>
                        </div>    
                        <div class="mt-15 pop-img">                                
                            <h5 class="title d-flex mb-0 align-items-center"><img src="assets/images/info-img.svg" class="mr-2">Sure you want to Import data</h5>
                        </div>    
                        <div class="btn-wrap text-right mt-10">
                            <button type="button" class="btn btn-success mr-2">Yes</button>
                            <button type="button" class="btn btn-grey" data-dismiss="modal">No</button>
                        </div>
                    </form>
                </div>                    
            </div>
        </div>
    </div>
</div>

<div class="modal fade bd-example-modal-md thm-popup" id="ReplicateProduct" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-md popup-box-rebates" role="document">
<!-- <div class="modal fade bd-example-modal-md thm-popup" id="ReplicateProduct" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true" data-backdrop="static">
    <div class="modal-dialog modal-dialog-centered modal-md" role="document"> -->
        <div class="modal-content">
            <div class="modal-body popup-box-width">
                <div class="popup-box">
                    <form>
                        <div class="title-wrap mb-1">
                            <h4 class="title">Replicate Products in Family</h4>
                        </div>    
                        <div class="form-row">                                
                           <div class="col-6">
                            <div class="custom-control custom-checkbox">
                                <input type="checkbox" class="custom-control-input"  id="ReplicatePrices" checked>
                                <label class="custom-control-label" for="ReplicatePrices">Replicate Prices</label>
                             </div>
                           </div>
                           <div class="col-6">
                            <div class="custom-control custom-checkbox">
                                <input type="checkbox" class="custom-control-input"  id="ReplicateCosts" checked>
                                <label class="custom-control-label" for="ReplicateCosts">Replicate Costs</label>
                             </div>
                             </div>
                             <div class="col-6">
                                <div class="custom-control custom-checkbox">
                                    <input type="checkbox" class="custom-control-input"  id="ReplicateSpecials">
                                    <label class="custom-control-label" for="ReplicateSpecials">Replicate Specials</label>
                                 </div>
                               </div>
                               <div class="col-6">
                                <div class="custom-control custom-checkbox">
                                    <input type="checkbox" class="custom-control-input"  id="ReplicateRebate" >
                                    <label class="custom-control-label" for="ReplicateRebate">Replicate Rebate</label>
                                 </div>
                                 </div>
                             </div> 
                              <div class="card mt-15" > 
                                <!-- <div class="card-body p-2 min-height-5 "> -->
                                    <div class="table-scroll">
                                        <div class="table-responsive">
                                            <table class="table ctm-table" >
                                                <tbody>
                                                    <tr *ngFor="let product of productChildrenList">     
                                                       <td>    
                                                         <div class="custom-control custom-checkbox">
                                                           <input type="checkbox"   name="product" 
                                                             class="custom-control-input" 
                                                             id="product_{{product.id}}" checked> 
                                                           <label class="custom-control-label" for="product_{{product.id}}"></label>
                                                          </div>
                                                       </td>
                                                        <td>{{product.desc}}</td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                    
                            </div> 
                            <div class="btn-wrap text-right mt-10">
                                <button type="button" class="btn btn-blue mr-2" (click)="addReplicate('Yes')">Yes</button>
                                <button type="button" class="btn btn-grey" (click)="addReplicate('No')">No</button>
                            </div>  
                    </form>
                </div>                    
            </div>
        </div>
    </div>
</div>